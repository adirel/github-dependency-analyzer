<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<groupId>com.dmurph</groupId>
	<artifactId>JGoogleAnalyticsTracker</artifactId>
	<version>1.2.3</version>
	<name>JGoogleAnalyticsTracker</name>
	<description>A java library for sending google analytics tracking information.</description>
	<url>http://github.com/dmurph/JGoogleAnalyticsTracker</url>
	<packaging>jar</packaging>
	<properties>
		<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
	</properties>
	<licenses>
		<license>
			<name>The MIT License</name>
			<url>http://www.opensource.org/licenses/mit-license.php</url>
		</license>
	</licenses>
	<scm>
		<url>https://code.google.com/p/jgoogleanalyticstracker/source/browse/</url>
		<connection>scm:svn:http://jgoogleanalyticstracker.googlecode.com/svn</connection>
		<developerConnection>scm:svn:https://jgoogleanalyticstracker.googlecode.com/svn/trunk/</developerConnection>
	</scm>
	<developers>
		<developer>
			<id>toucansam99</id>
			<name>Daniel Murphy</name>
			<email>daniel@dmurph.com</email>
			<url>http://www.dmurph.com</url>
		</developer>
		<developer>
			<name>Stefan Brozinski</name>
			<email>Stefan.Brozinski@gmx.net</email>
		</developer>
	</developers>
	<build>
		<plugins>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-source-plugin</artifactId>
				<version>2.1.1</version>
				<executions>
					<execution>
						<id>attach-sources</id>
						<goals>
							<goal>jar</goal>
						</goals>
					</execution>
				</executions>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-javadoc-plugin</artifactId>
				<version>2.7</version>
				<configuration>
					<show>protected</show>
				</configuration>
				<executions>
					<execution>
						<id>attach-javadocs</id>
						<goals>
							<goal>jar</goal>
						</goals>
					</execution>
				</executions>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-release-plugin</artifactId>
				<version>2.0-beta-9</version>
				<extensions>true</extensions>
				<configuration>
					<mavenExecutorId>forked-path</mavenExecutorId>
				</configuration>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-compiler-plugin</artifactId>
				<version>2.3.1</version>
				<configuration>
					<compilerVersion>1.5+</compilerVersion>
				</configuration>
			</plugin>
		</plugins>
	</build>

	<profiles>
		<profile>
			<id>release-sign-artifacts</id>
			<activation>
				<property>
					<name>performRelease</name>
					<value>true</value>
				</property>
			</activation>
			<build>
				<plugins>
					<plugin>
						<groupId>org.apache.maven.plugins</groupId>
						<artifactId>maven-gpg-plugin</artifactId>
						<executions>
							<execution>
								<id>sign-artifacts</id>
								<phase>verify</phase>
								<goals>
									<goal>sign</goal>
								</goals>
							</execution>
						</executions>
					</plugin>
				</plugins>
			</build>
		</profile>
	</profiles>

	<dependencies>
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<version>4.8.1</version>
			<type>jar</type>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>slf4j-api</artifactId>
			<version>1.6.1</version>
			<type>jar</type>
			<scope>compile</scope>
		</dependency>
	</dependencies>
	<reporting>
		<plugins>
		</plugins>
	</reporting>
	<distributionManagement>
		<repository>
			<id>sonatype-nexus-staging</id>
			<name>Nexus Release Repository</name>
			<url>http://oss.sonatype.org/service/local/staging/deploy/maven2/</url>
		</repository>
		<snapshotRepository>
			<id>sonatype-nexus-snapshots1</id>
			<name>Sonatype Nexus Snapshots</name>
			<url>http://oss.sonatype.org/content/repositories/snapshots</url>
		</snapshotRepository>
	</distributionManagement>
</project><?xml version="1.0"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <artifactId>onebusaway-nyc</artifactId>
    <groupId>org.onebusaway</groupId>
    <version>2.11.0-SNAPSHOT</version>
  </parent>
  <artifactId>onebusaway-nyc-acta-webapp</artifactId>
  <packaging>war</packaging>
  
  <name>onebusaway-nyc-acta-webapp</name>
  
  
  	<properties>
		<branding-webapp>{project.name}</branding-webapp>
	</properties>

	<repositories>
		<!-- Required for the xwiki-rendering-macros -->
		<repository>
			<id>xwiki</id>
			<url>http://maven.xwiki.org/releases</url>
		</repository>
	</repositories>
	
  <dependencies>
    <dependency>
		<groupId>org.onebusaway</groupId>
		<artifactId>onebusaway-nyc-webapp</artifactId>
		<version>2.11.0-SNAPSHOT</version>
		<type>war</type>
	</dependency>
  </dependencies>
  
  <profiles>
		<profile>
			<id>cloud</id> <!-- aka services-dev --> <!-- aka staging, production -->
			<activation>
				<activeByDefault>true</activeByDefault>
			</activation>
			<properties>
				<tds.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
				<vtms.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
				<config.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
				<archive.path>http://archive/onebusaway-nyc-report-archive</archive.path><!-- 
					assumes domain is set in resolv.conf -->
				<tdm.host>tdm</tdm.host><!-- assumes domain is set -->
				<webapp.api.url />
				<log4j.appender>ROLL</log4j.appender>
				<create-apikey>false</create-apikey>
			</properties>
		</profile>
		<profile>
			<id>local-front-end</id>
			<properties>
				<tds.path>http://sms.dev.obanyc.com:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
				<vtms.path>http://sms.dev.obanyc.com:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
				<config.path>http://sms.dev.obanyc.com:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
				<archive.path>http://archive.dev.obanyc.com/onebusaway-nyc-report-archive</archive.path>
				<tdm.host>tdm.dev.obanyc.com</tdm.host>
				<webapp.api.url />
				<log4j.appender>stdout</log4j.appender>
				<create-apikey>true</create-apikey>
			</properties>
		</profile>
		<profile>
			<id>local-single-port</id><!-- aka services-tdf-as-tds --> <!-- aka staging, production -->
			<properties>
				<tds.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
				<vtms.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
				<config.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
				<archive.path>http://localhost:8080/onebusaway-nyc-report-archive</archive.path>
				<tdm.host>tdm.dev.obanyc.com</tdm.host>
				<webapp.api.url />
				<log4j.appender>stdout</log4j.appender>
				<create-apikey>true</create-apikey>
			</properties>
		</profile>
		<profile>
			<!-- Vehicle tracking webapp offers the TDS -->
			<id>local-ie</id> <!-- aka services-vtw-as-tds --> <!-- single port, aka development -->
			<properties>
				<tds.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</tds.path>
				<vtms.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</vtms.path>
				<config.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</config.path>
				<archive.path>http://localhost:9090/onebusaway-nyc-report-archive</archive.path>
				<tdm.host>tdm.dev.obanyc.com</tdm.host>
				<webapp.api.url>http://localhost:8080</webapp.api.url>
				<log4j.appender>stdout</log4j.appender>
				<create-apikey>true</create-apikey>
			</properties>
		</profile>
		<profile>
			<id>local-multi-port</id> <!-- services-vtw-as-tds-multiport --><!-- multi port, also for development -->
			<!-- assumes we're running on 8080, and vtw and api are on different ports -->
			<properties>
				<tds.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</tds.path>
				<vtms.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</vtms.path>
				<config.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</config.path>
				<archive.path>http://localhost:8081/onebusaway-nyc-report-archive</archive.path>
				<tdm.host>tdm.dev.obanyc.com</tdm.host>
				<webapp.api.url>http://localhost:8082</webapp.api.url>
				<log4j.appender>stdout</log4j.appender>
				<create-apikey>true</create-apikey>
			</properties>
		</profile>
		<profile>
			<id>eclipse-only</id>
			<dependencies>
					<!-- OneBusAway Dependencies -->
				<dependency>
					<groupId>org.onebusaway</groupId>
					<artifactId>onebusaway-nyc-presentation</artifactId>
					<version>2.10.0</version>
				</dependency>
		
				<dependency>
					<groupId>org.onebusaway</groupId>
					<artifactId>onebusaway-nyc-transit-data</artifactId>
					<version>2.10.0</version>
				</dependency>
				<dependency>
					<groupId>org.onebusaway</groupId>
					<artifactId>onebusaway-realtime-api</artifactId>
					<version>${onebusaway.app-modules.version}</version>
				</dependency>
		
				<dependency>
					<groupId>org.onebusaway</groupId>
					<artifactId>onebusaway-nyc-api-core</artifactId>
					<version>2.10.0</version>
				</dependency>
				<dependency>
					<groupId>org.onebusaway</groupId>
					<artifactId>onebusaway-nyc-util</artifactId>
					<version>2.10.0</version>
				</dependency>
				<dependency>
					<groupId>commons-beanutils</groupId>
					<artifactId>commons-beanutils</artifactId>
					<version>1.8.0</version>
				</dependency>
				<dependency>
					<groupId>org.onebusaway</groupId>
					<artifactId>onebusaway-wiki-integration-tags</artifactId>
					<version>${xwiki.integration.version}</version>
				</dependency>
				<dependency>
					<groupId>org.onebusaway</groupId>
					<artifactId>onebusaway-wiki-integration-xwiki-impl</artifactId>
					<version>${xwiki.integration.version}</version>
				</dependency>
				<dependency>
					<groupId>org.onebusaway</groupId>
					<artifactId>onebusaway-wiki-integration-xwiki-struts-macros</artifactId>
					<version>${xwiki.integration.version}</version>
				</dependency>
				<dependency>
					<groupId>org.onebusaway</groupId>
					<artifactId>onebusaway-wiki-integration-xwiki-macros</artifactId>
					<version>${xwiki.integration.version}</version>
				</dependency>
				<dependency>
					<groupId>com.dmurph</groupId>
					<artifactId>JGoogleAnalyticsTracker</artifactId>
					<version>1.2.2</version>
				</dependency>
			</dependencies>
		</profile>
	</profiles>
  <build>
    <finalName>onebusaway-nyc-acta-webapp</finalName>
    <plugins>
		<plugin>
			<groupId>pl.project13.maven</groupId>
			<artifactId>git-commit-id-plugin</artifactId>
			<version>2.1.2</version>
			<executions>
				<execution>
					<goals>
						<goal>revision</goal>
					</goals>
				</execution>
			</executions>
			<configuration>
				<prefix>git</prefix>
				<dateFormat>dd.MM.yyyy '@' HH:mm:ss z</dateFormat>
				<verbose>true</verbose>
				<skipPoms>false</skipPoms>
				<generateGitPropertiesFile>false</generateGitPropertiesFile>
				<generateGitPropertiesFilename>src/main/resources/git.properties</generateGitPropertiesFilename>
				<gitDescribe>
					<skip>false</skip>
					<always>true</always>
					<abbrev>7</abbrev>
					<dirty>-dirty</dirty>
					<forceLongFormat>false</forceLongFormat>
				</gitDescribe>
			</configuration>
		</plugin>
			<plugin>
				<groupId>org.mortbay.jetty</groupId>
				<artifactId>maven-jetty-plugin</artifactId>
				<version>${jetty.version}</version>
				<configuration>
					<contextPath>/</contextPath>
				</configuration>
			</plugin>
	</plugins>
	<resources>
		<resource>
			<directory>src/main/resources</directory>
			<filtering>true</filtering>
			<includes>
				<include>**/*.properties</include>
				<include>**/*.xml</include>
			</includes>
		</resource>
	</resources>
	<pluginManagement>
			<plugins>
			<!-- This tells eclipse to when to execute the git-commit plugin -->
				<plugin>
					<groupId>org.eclipse.m2e</groupId>
					<artifactId>lifecycle-mapping</artifactId>
					<version>1.0.0</version>
					<configuration>
						<lifecycleMappingMetadata>
							<pluginExecutions>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											pl.project13.maven
										</groupId>
										<artifactId>
											git-commit-id-plugin
										</artifactId>
										<versionRange>
											[2.1.2,)
										</versionRange>
										<goals>
											<goal>revision</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<execute>
											<runOnIncremental>true</runOnIncremental>
											<runOnConfiguration>true</runOnConfiguration>
										</execute>
									</action>
								</pluginExecution>
							</pluginExecutions>
						</lifecycleMappingMetadata>
					</configuration>
				</plugin>
				<plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-war-plugin</artifactId>
                    <version>2.1</version>
                    <configuration>
                        <archive>
                            <manifestEntries>
                                <Implementation-Build>${gitDescribe}</Implementation-Build>
                            </manifestEntries>
                        </archive>
                        <overlays>
                        	<overlay>
              					<groupId>org.onebusaway</groupId>
              					<artifactId>onebusaway-nyc-webapp</artifactId>
              				</overlay>
                        </overlays>
                    </configuration>
                </plugin>
			</plugins>
		</pluginManagement>
  </build>
</project>
<?xml version="1.0"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<artifactId>onebusaway-nyc</artifactId>
		<groupId>org.onebusaway</groupId>
		<version>2.11.0-SNAPSHOT</version>
	</parent>
	<groupId>org.onebusaway</groupId>
	<artifactId>onebusaway-nyc-admin-webapp</artifactId>
	<packaging>war</packaging>

	<name>onebusaway-nyc-admin-webapp</name>
	<properties>
		<xwiki.version>2.3.1</xwiki.version>
		<xwiki.integration.version>0.0.2</xwiki.integration.version>
	</properties>

	<repositories>
		<!-- Required for the xwiki-rendering-macros -->
		<repository>
			<id>xwiki</id>
			<url>http://maven.xwiki.org/releases</url>
		</repository>
	</repositories>
	<dependencies>
		<dependency>
			<groupId>com.sun.jersey</groupId>
			<artifactId>jersey-server</artifactId>
			<version>1.9.1</version>
		</dependency>
		<dependency>
			<groupId>com.sun.jersey.contribs</groupId>
			<artifactId>jersey-spring</artifactId>
			<version>1.9.1</version>
		</dependency>
		<dependency>
			<groupId>com.sun.jersey</groupId>
			<artifactId>jersey-bundle</artifactId>
			<version>1.10</version>
		</dependency>
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>org.mockito</groupId>
			<artifactId>mockito-all</artifactId>
		</dependency>
		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>slf4j-log4j12</artifactId>
		</dependency>
		<dependency>
			<groupId>log4j</groupId>
			<artifactId>apache-log4j-extras</artifactId>
		</dependency>
		<!-- for amazon deployment -->
		<dependency>
			<groupId>mysql</groupId>
			<artifactId>mysql-connector-java</artifactId>
			<version>5.1.17</version>
		</dependency>
		<dependency>
			<groupId>org.tuckey</groupId>
			<artifactId>urlrewritefilter</artifactId>
			<version>3.1.0</version>
			<type>jar</type>
			<scope>compile</scope>
		</dependency>
		<dependency>
          <groupId>quartz</groupId>
          <artifactId>quartz</artifactId>
          <version>1.5.2</version>
          </dependency>
		<!-- OneBusAway Dependencies -->
		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-nyc-presentation</artifactId>
			<version>2.11.0-SNAPSHOT</version>
		</dependency>
		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-nyc-transit-data</artifactId>
			<version>2.11.0-SNAPSHOT</version>
		</dependency>
		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-transit-data-federation-builder</artifactId>
			<version>${onebusaway.app-modules.version}</version>
		</dependency>
		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-gtfs</artifactId>
			<version>${onebusaway.gtfs.version}</version>
		</dependency>
		<!-- s3 integration -->
		<dependency>
			<groupId>com.amazonaws</groupId>
			<artifactId>aws-java-sdk</artifactId>
			<version>1.3.9</version>
			<exclusions>
				<exclusion>
					<groupId>org.codehaus.jackson</groupId>
					<artifactId>jackson-core-asl</artifactId>
				</exclusion>
				<exclusion>
					<groupId>org.codehaus.jackson</groupId>
					<artifactId>jackson-mapper-asl</artifactId>
				</exclusion>
			</exclusions>
		</dependency>
		<dependency>
			<groupId>commons-logging</groupId>
			<artifactId>commons-logging</artifactId>
			<version>1.1.1</version>
		</dependency>
		<dependency>
			<groupId>javax.servlet</groupId>
			<artifactId>servlet-api</artifactId>
			<version>2.4</version>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>javax.mail</groupId>
			<artifactId>mail</artifactId>
			<version>1.4</version>
		</dependency>
		<!-- dependency> <groupId>org.codehaus.jackson</groupId> <artifactId>jackson-core-asl</artifactId> 
			<version>1.9.0</version> </dependency -->
	</dependencies>

	<profiles>
		<profile>
			<id>cloud</id> <!-- aka services-dev --> <!-- aka staging, production -->
			<activation>
				<activeByDefault>true</activeByDefault>
			</activation>
			<properties>
				<tds.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
				<vtms.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
				<tdm.host>tdm</tdm.host><!-- assumes domain is set -->
				<log4j.appender>ROLL</log4j.appender>
			</properties>
		</profile>
		<profile>
			<id>local-front-end</id>
			<properties>
				<tds.path>http://sms.dev.obanyc.com:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
				<vtms.path>http://sms.dev.obanyc.com:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
				<tdm.host>tdm.dev.obanyc.com</tdm.host>
				<log4j.appender>stdout</log4j.appender>
			</properties>
		</profile>
		<profile>
			<id>local-single-port</id><!-- aka services-tdf-as-tds --> <!-- aka staging, production -->
			<properties>
				<tds.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
				<vtms.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
				<tdm.host>tdm.dev.obanyc.com</tdm.host>
				<log4j.appender>stdout</log4j.appender>
			</properties>
		</profile>
		<profile>
			<id>local-tdm</id><!-- aka services-tdf-as-tds --> <!-- aka staging, production -->
			<properties>
				<tds.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
				<vtms.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
				<tdm.host>localhost:8080/onebusaway-nyc-tdm-webapp</tdm.host>
				<log4j.appender>stdout</log4j.appender>
			</properties>
		</profile>
		<profile>
			<!-- Vehicle tracking webapp offers the TDS -->
			<id>local-ie</id> <!-- aka services-vtw-as-tds --> <!-- single port, aka development -->
			<properties>
				<tds.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</tds.path>
				<vtms.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</vtms.path>
				<tdm.host>tdm.dev.obanyc.com</tdm.host>
				<log4j.appender>stdout</log4j.appender>
			</properties>
		</profile>
		<profile>
			<id>local-multi-port</id>
			<properties>
				<tds.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</tds.path>
				<vtms.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</vtms.path>
				<tdm.host>tdm.dev.obanyc.com</tdm.host>
				<log4j.appender>stdout</log4j.appender>
			</properties>
		</profile>
	</profiles>

	<build>
		<finalName>onebusaway-nyc-admin-webapp</finalName>
		<plugins>
			<plugin>
				<groupId>pl.project13.maven</groupId>
				<artifactId>git-commit-id-plugin</artifactId>
				<version>2.1.2</version>
				<executions>
					<execution>
						<goals>
							<goal>revision</goal>
						</goals>
					</execution>
				</executions>
				<configuration>
					<prefix>git</prefix>
					<dateFormat>dd.MM.yyyy '@' HH:mm:ss z</dateFormat>
					<verbose>true</verbose>
					<skipPoms>false</skipPoms>
					<generateGitPropertiesFile>false</generateGitPropertiesFile>
					<generateGitPropertiesFilename>src/main/resources/git.properties</generateGitPropertiesFilename>
					<gitDescribe>
						<skip>false</skip>
						<always>true</always>
						<abbrev>7</abbrev>
						<dirty>-dirty</dirty>
						<forceLongFormat>false</forceLongFormat>
					</gitDescribe>
				</configuration>
			</plugin>
			<plugin>
				<groupId>org.mortbay.jetty</groupId>
				<artifactId>maven-jetty-plugin</artifactId>
				<version>${jetty.version}</version>
				<configuration>
					<contextPath>/</contextPath>
				</configuration>
			</plugin>
		</plugins>
		<resources>
			<resource>
				<directory>src/main/resources</directory>
				<filtering>true</filtering>
			</resource>
		</resources>
		<pluginManagement>
			<plugins>
				<!--This plugin's configuration is used to store Eclipse m2e settings 
					only. It has no influence on the Maven build itself. -->
				<plugin>
					<groupId>org.eclipse.m2e</groupId>
					<artifactId>lifecycle-mapping</artifactId>
					<version>1.0.0</version>
					<configuration>
						<lifecycleMappingMetadata>
							<pluginExecutions>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											pl.project13.maven
										</groupId>
										<artifactId>
											git-commit-id-plugin
										</artifactId>
										<versionRange>
											[2.1.2,)
										</versionRange>
										<goals>
											<goal>revision</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<execute>
											<runOnIncremental>true</runOnIncremental>
											<runOnConfiguration>true</runOnConfiguration>
										</execute>
									</action>
								</pluginExecution>
							</pluginExecutions>
						</lifecycleMappingMetadata>
					</configuration>
				</plugin>
			</plugins>
		</pluginManagement>
	</build>
</project>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>org.onebusaway</groupId>
    <artifactId>onebusaway-nyc</artifactId>
    <version>2.11.0-SNAPSHOT</version>
  </parent>

  <artifactId>onebusaway-nyc-api-core</artifactId>
  <packaging>jar</packaging>
  <name>onebusaway-nyc-api-core</name>

  <dependencies>

    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-transit-data</artifactId>
      <version>${onebusaway.app-modules.version}</version>
    </dependency>
    <dependency>
        <groupId>org.onebusaway</groupId>
        <artifactId>onebusaway-nyc-presentation</artifactId>
        <version>2.11.0-SNAPSHOT</version>
    </dependency>

    <!-- We use this for exposing API calls as CSV data -->
    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-csv-entities</artifactId>
    </dependency>

    <!-- Struts 2 -->
    <dependency>
        <groupId>org.apache.struts</groupId>
        <artifactId>struts2-core</artifactId>
    </dependency>

    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <scope>test</scope>
    </dependency>
  </dependencies>

</project>
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>org.onebusaway</groupId>
        <artifactId>onebusaway-nyc</artifactId>
        <version>2.11.0-SNAPSHOT</version>
    </parent>
    <artifactId>onebusaway-nyc-api-webapp</artifactId>
    <packaging>war</packaging>

    <name>onebusaway-nyc-api-webapp</name>

    <dependencies>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-transit-data</artifactId>
            <version>${onebusaway.app-modules.version}</version>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-api-core</artifactId>
            <version>2.11.0-SNAPSHOT</version>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-presentation</artifactId>
            <version>2.11.0-SNAPSHOT</version>
        </dependency>

        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-siri-api-v13</artifactId>
            <version>${onebusaway.siri.version}</version>
        </dependency>

        <dependency>
            <groupId>postgresql</groupId>
            <artifactId>postgresql</artifactId>
        </dependency>

        <!-- RMI-like service for wiring up services between VMs -->
        <dependency>
            <groupId>com.caucho</groupId>
            <artifactId>resin-hessian</artifactId>
        </dependency>

        <!-- Struts 2 -->
        <dependency>
            <groupId>org.apache.struts</groupId>
            <artifactId>struts2-core</artifactId>
        </dependency>
        <dependency>
            <groupId>org.apache.struts</groupId>
            <artifactId>struts2-spring-plugin</artifactId>
        </dependency>
        <dependency>
            <groupId>org.apache.struts</groupId>
            <artifactId>struts2-convention-plugin</artifactId>
        </dependency>
        <dependency>
            <groupId>org.apache.struts</groupId>
            <artifactId>struts2-rest-plugin</artifactId>
        </dependency>

        <!-- We use HttpServletRequest in XmlResult -->
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>jsp-api</artifactId>
            <scope>provided</scope>
        </dependency>
        
        <!-- For iPhone app notifications -->
        <dependency>
            <groupId>com.notnoop.apns</groupId>
            <artifactId>apns</artifactId>
            <version>0.1.6</version>
        </dependency>

        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>apache-log4j-extras</artifactId>
        </dependency>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.mockito</groupId>
            <artifactId>mockito-all</artifactId>
            <version>1.9.0-rc1</version>
        </dependency>
	<!-- for amazon deployment -->
        <dependency>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
            <version>5.1.17</version>
        </dependency>
    </dependencies>

    <!-- TODO This is an exact duplicate of what's in onebusaway-nyc-webapp. Should extract out to a common profiles.xml -->
    <profiles>
        <profile>
            <id>cloud</id> <!-- aka staging, production -->
            <activation>
                <activeByDefault>true</activeByDefault>
            </activation>
            <properties>
                <tds.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
                <vtms.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
                <config.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
                <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
                <dummy.permissions />
                <tdm.host>tdm</tdm.host>
                <log4j.appender>ROLL</log4j.appender>
            </properties>
        </profile>
        <profile>
            <id>local-front-end</id>
            <properties>
                <tds.path>http://app1.dev.obanyc.com:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
                <vtms.path>http://app1.dev.obanyc.com:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
                <config.path>http://app1.dev.obanyc.com:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
                <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
                <dummy.permissions />
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <log4j.appender>stdout</log4j.appender>
            </properties>
        </profile>
        <profile>
            <id>local-single-port</id><!-- aka services-tdf-as-tds --> <!-- aka staging, production -->
            <properties>
                <tds.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
                <vtms.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
                <config.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
                <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
                <dummy.permissions />
                <log4j.appender>stdout</log4j.appender>
            </properties>
        </profile>
        <profile>
            <!-- Vehicle tracking webapp offers the TDS -->
            <id>local-ie</id> <!-- aka services-vtw-as-tds --><!-- single port, aka development -->
            <properties>
                <tds.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</tds.path>
                <vtms.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</vtms.path>
                <config.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</config.path>
                <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
                <dummy.permissions>    &lt;bean id="apiKeyService" class="org.onebusaway.api.services.DummyApiKeyPermissionService" primary="true"/&gt;    
                </dummy.permissions>
                <log4j.appender>stdout</log4j.appender>
            </properties>
        </profile>
        <profile>
            <id>local-multi-port</id> <!-- services-vtw-as-tds-multiport --><!-- multi port, also for development -->
            <!-- assumes we're running on 8082, so vtw is on a different port -->
            <properties>
                <jetty.port>8082</jetty.port>
                <tds.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</tds.path>
                <vtms.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</vtms.path>
                <config.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</config.path>
                <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
                <dummy.permissions>    &lt;bean id="apiKeyService" class="org.onebusaway.api.services.DummyApiKeyPermissionService" primary="true"/&gt;    
                </dummy.permissions>
                <log4j.appender>stdout</log4j.appender>
            </properties>
        </profile>
    </profiles>


    <build>
        <finalName>onebusaway-nyc-api-webapp</finalName>
        <plugins>
            <plugin>
                <groupId>org.mortbay.jetty</groupId>
                <artifactId>maven-jetty-plugin</artifactId>
                <version>${jetty.version}</version>
                <configuration>
                    <connectors>
                        <connector implementation="org.mortbay.jetty.nio.SelectChannelConnector">
                            <port>${jetty.port}</port>
                        </connector>
                    </connectors>
                </configuration>
            </plugin>
        </plugins>
        <resources>
            <resource>
                <directory>src/main/resources</directory>
                <filtering>true</filtering>
            </resource>
        </resources>
    </build>

</project>
<?xml version="1.0"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <artifactId>onebusaway-nyc</artifactId>
        <groupId>org.onebusaway</groupId>
        <version>2.11.0-SNAPSHOT</version>
    </parent>
    <groupId>org.onebusaway</groupId>
    <artifactId>onebusaway-nyc-integration-tests</artifactId>
    <packaging>war</packaging>
    <name>onebusaway-nyc-integration-tests</name>

    <properties>
        <tomcat-version>5.5.29</tomcat-version>
        <cargo.jvmargs>-Xmx7G -XX:MaxPermSize=256m</cargo.jvmargs>
        <cargo.logging>low</cargo.logging>
        <hsqldb.port>9930</hsqldb.port>

		<!-- Useful for debugging: leaves cargo running but doesn't run the tests -->
        <pauseDuringIntegrationTest>false</pauseDuringIntegrationTest>

        <!-- This value is in milliseconds, so 5 minutes... thing run slow on the CI server sometimes -->
        <ping_timeout>300000</ping_timeout>

        <org.onebusaway.webapp.port>9000</org.onebusaway.webapp.port>
        <org.onebusaway.webapp.ajp_port>9001</org.onebusaway.webapp.ajp_port>
        <org.onebusaway.webapp.rmi_port>9002</org.onebusaway.webapp.rmi_port>

        <!-- These properties are primarily used in configuring joint integration tests -->
        <org.onebusaway.transit_data_federation_webapp.port>9905</org.onebusaway.transit_data_federation_webapp.port>
        <org.onebusaway.transit_data_federation_webapp.ajp_port>9906</org.onebusaway.transit_data_federation_webapp.ajp_port>
        <org.onebusaway.transit_data_federation_webapp.rmi_port>9907</org.onebusaway.transit_data_federation_webapp.rmi_port>
    </properties>

    <dependencies>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-transit-data-federation</artifactId>
            <version>2.11.0-SNAPSHOT</version>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-api-webapp</artifactId>
            <version>2.11.0-SNAPSHOT</version>
            <type>war</type>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-tdm-adapters</artifactId>
            <version>2.11.0-SNAPSHOT</version>
            <type>jar</type>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-vehicle-tracking</artifactId>
            <version>2.11.0-SNAPSHOT</version>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-vehicle-tracking-webapp</artifactId>
            <version>2.11.0-SNAPSHOT</version>
            <type>war</type>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-webapp</artifactId>
            <version>2.11.0-SNAPSHOT</version>
            <type>war</type>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-transit-data-federation-builder</artifactId>
            <version>${onebusaway.app-modules.version}</version>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-users</artifactId>
            <version>${onebusaway.app-modules.version}</version>
        </dependency>
        <dependency>
            <groupId>org.hsqldb</groupId>
            <artifactId>hsqldb</artifactId>
            <version>2.0.0</version>
        </dependency>
        <dependency>
            <groupId>commons-httpclient</groupId>
            <artifactId>commons-httpclient</artifactId>
            <version>3.0.1</version>
        </dependency>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.seleniumhq.selenium.client-drivers</groupId>
            <artifactId>selenium-java-client-driver</artifactId>
            <version>1.0.2</version>
        </dependency>
        <dependency>
            <groupId>org.json</groupId>
            <artifactId>json</artifactId>
            <version>20090211</version>
        </dependency>
    </dependencies>

    <build>
        <finalName>onebusaway-nyc-integration-tests</finalName>
        <plugins>
	    <!-- prevent war file uploads to optimize build -->
          <plugin>
            <artifactId>maven-install-plugin</artifactId>
            <executions>
              <execution>
                <id>default-install</id>
                <phase>none</phase>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <artifactId>maven-deploy-plugin</artifactId>
            <configuration>
              <skip>true</skip>
            </configuration>
          </plugin>
            <!-- Configure integration test system properties -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-surefire-plugin</artifactId>
                <configuration>
                  <excludes>
                    <exclude>**/*.*</exclude>
                  </excludes>
                </configuration>
                <executions>
                    <execution>
                        <id>integration-tests</id>
                        <phase>integration-test</phase>
                        <goals>
                            <goal>test</goal>
                        </goals>
                        <configuration>
							<!-- Allows you to attach a debugger to the individual trace classes as they run. -->
							<!-- <debugForkedProcess>true</debugForkedProcess> -->
                            <excludes>
                                <exclude>none</exclude>
                            </excludes>
                            <includes>
                                <include>**/*TestSuite*.java</include>
                            </includes>
                            <systemPropertyVariables>
                                <org.onebusaway.transit_data_federation_webapp.port>${org.onebusaway.transit_data_federation_webapp.port}</org.onebusaway.transit_data_federation_webapp.port>
                                <org.onebusaway.webapp.port>${org.onebusaway.api_webapp.port}</org.onebusaway.webapp.port>
                                <pauseDuringIntegrationTest>${pauseDuringIntegrationTest}</pauseDuringIntegrationTest>
                            </systemPropertyVariables>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <!-- We create custom integration-test versions of all the webapp wars that include custom resources and data-sources 
                for our integration-testing setup -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-assembly-plugin</artifactId>
                <executions>
                    <execution>
                        <phase>pre-integration-test</phase>
                        <goals>
                            <goal>single</goal>
                        </goals>
                        <configuration>
                            <descriptors>
                                <descriptor>src/integration-test/assemblies/onebusaway-nyc-api-webapp.xml</descriptor>
                                <descriptor>src/integration-test/assemblies/onebusaway-nyc-vehicle-tracking-webapp.xml</descriptor>
                                <descriptor>src/integration-test/assemblies/onebusaway-nyc-webapp.xml</descriptor>
                            </descriptors>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <!-- Build a graph bundle using our integration-test data sources (currently, a reduced set of MTA data) -->
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>exec-maven-plugin</artifactId>
                <version>1.1.1</version>
                <executions>
                    <execution>
                        <id>graph-builder-execution-2014Jan_AllCity_r09_b3</id>
                        <phase>pre-integration-test</phase>
                        <goals>
                            <goal>exec</goal>
                        </goals>
                        <configuration>
                            <executable>java</executable>
                            <arguments>
                                <argument>-Xmx2g</argument>
                                <argument>-classpath</argument>
                                <classpath />
                                <argument>-Dlog4j.configuration=log4j-stdout.xml</argument>
                                <argument>-Donebusaway_prefix=${basedir}</argument>
                                <argument>org.onebusaway.transit_data_federation.bundle.FederatedTransitDataBundleCreatorMain</argument>
                                <argument>-onlyIfDoesNotExist</argument>
                                <argument>-additionalResourcesDirectory</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle-2014Jan_AllCity_r09_b3.xml</argument>
                                <argument>${project.build.directory}/transit-data-bundle/2014Jan_AllCity_r09_b3</argument>
                            </arguments>
                        </configuration>
                    </execution>
                    <execution>
                        <id>graph-builder-execution-2013Sept_Prod_r08_b04</id>
                        <phase>pre-integration-test</phase>
                        <goals>
                            <goal>exec</goal>
                        </goals>
                        <configuration>
                            <executable>java</executable>
                            <arguments>
                                <argument>-Xmx2g</argument>
                                <argument>-classpath</argument>
                                <classpath />
                                <argument>-Dlog4j.configuration=log4j-stdout.xml</argument>
                                <argument>-Donebusaway_prefix=${basedir}</argument>
                                <argument>org.onebusaway.transit_data_federation.bundle.FederatedTransitDataBundleCreatorMain</argument>
                                <argument>-onlyIfDoesNotExist</argument>
                                <argument>-additionalResourcesDirectory</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle-2013Sept_Prod_r08_b04.xml</argument>
                                <argument>${project.build.directory}/transit-data-bundle/2013Sept_Prod_r08_b04</argument>
                            </arguments>
                        </configuration>
                    </execution>
                    <execution>
                        <id>graph-builder-execution-2013Sept_AllCity_r15_b02</id>
                        <phase>pre-integration-test</phase>
                        <goals>
                            <goal>exec</goal>
                        </goals>
                        <configuration>
                            <executable>java</executable>
                            <arguments>
                                <argument>-Xmx2g</argument>
                                <argument>-classpath</argument>
                                <classpath />
                                <argument>-Dlog4j.configuration=log4j-stdout.xml</argument>
                                <argument>-Donebusaway_prefix=${basedir}</argument>
                                <argument>org.onebusaway.transit_data_federation.bundle.FederatedTransitDataBundleCreatorMain</argument>
                                <argument>-onlyIfDoesNotExist</argument>
                                <argument>-additionalResourcesDirectory</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle-2013Sept_AllCity_r15_b02.xml</argument>
                                <argument>${project.build.directory}/transit-data-bundle/2013Sept_AllCity_r15_b02</argument>
                            </arguments>
                        </configuration>
                    </execution>
                    <execution>
                        <id>graph-builder-execution-2012September_Bronx_r10_b03</id>
                        <phase>pre-integration-test</phase>
                        <goals>
                            <goal>exec</goal>
                        </goals>
                        <configuration>
                            <executable>java</executable>
                            <arguments>
                                <argument>-Xmx1500m</argument>
                                <argument>-classpath</argument>
                                <classpath />
                                <argument>-Dlog4j.configuration=log4j-stdout.xml</argument>
                                <argument>-Donebusaway_prefix=${basedir}</argument>
                                <argument>org.onebusaway.transit_data_federation.bundle.FederatedTransitDataBundleCreatorMain</argument>
                                <argument>-onlyIfDoesNotExist</argument>
                                <argument>-additionalResourcesDirectory</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle-2012September_Bronx_r10_b03.xml</argument>
                                <argument>${project.build.directory}/transit-data-bundle/2012September_Bronx_r10_b03</argument>
                            </arguments>
                        </configuration>
                    </execution>
                    <execution>
                        <id>graph-builder-execution-2012July_r04_b02</id>
                        <phase>pre-integration-test</phase>
                        <goals>
                            <goal>exec</goal>
                        </goals>
                        <configuration>
                            <executable>java</executable>
                            <arguments>
                                <argument>-Xmx1500m</argument>
                                <argument>-classpath</argument>
                                <classpath />
                                <argument>-Dlog4j.configuration=log4j-stdout.xml</argument>
                                <argument>-Donebusaway_prefix=${basedir}</argument>
                                <argument>org.onebusaway.transit_data_federation.bundle.FederatedTransitDataBundleCreatorMain</argument>
                                <argument>-onlyIfDoesNotExist</argument>
                                <argument>-additionalResourcesDirectory</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle-2012July_r04_b02.xml</argument>
                                <argument>${project.build.directory}/transit-data-bundle/2012July_r04_b02</argument>
                            </arguments>
                        </configuration>
                    </execution>
                    <execution>
                        <id>graph-builder-execution-b63-winter10</id>
                        <phase>pre-integration-test</phase>
                        <goals>
                            <goal>exec</goal>
                        </goals>
                        <configuration>
                            <executable>java</executable>
                            <arguments>
                                <argument>-Xmx1500m</argument>
                                <argument>-classpath</argument>
                                <classpath />
                                <argument>-Dlog4j.configuration=log4j-stdout.xml</argument>
                                <argument>-Donebusaway_prefix=${basedir}</argument>
                                <argument>org.onebusaway.transit_data_federation.bundle.FederatedTransitDataBundleCreatorMain</argument>
                                <argument>-onlyIfDoesNotExist</argument>
                                <argument>-additionalResourcesDirectory</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle-b63-winter10.xml</argument>
                                <argument>${project.build.directory}/transit-data-bundle/b63-winter10</argument>
                            </arguments>
                        </configuration>
                    </execution>
                    <execution>
                        <id>graph-builder-execution-s54</id>
                        <phase>pre-integration-test</phase>
                        <goals>
                            <goal>exec</goal>
                        </goals>
                        <configuration>
                            <executable>java</executable>
                            <arguments>
                                <argument>-Xmx1500m</argument>
                                <argument>-classpath</argument>
                                <classpath />
                                <argument>-Dlog4j.configuration=log4j-stdout.xml</argument>
                                <argument>-Donebusaway_prefix=${basedir}</argument>
                                <argument>org.onebusaway.transit_data_federation.bundle.FederatedTransitDataBundleCreatorMain</argument>
                                <argument>-onlyIfDoesNotExist</argument>
                                <argument>-additionalResourcesDirectory</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle-s54.xml</argument>
                                <argument>${project.build.directory}/transit-data-bundle/s54</argument>
                            </arguments>
                        </configuration>
                    </execution>                
                    <execution>
                        <id>graph-builder-execution-si</id>
                        <phase>pre-integration-test</phase>
                        <goals>
                            <goal>exec</goal>
                        </goals>
                        <configuration>
                            <executable>java</executable>
                            <arguments>
                                <argument>-Xmx2G</argument>
                                <argument>-classpath</argument>
                                <classpath />
                                <argument>-Dlog4j.configuration=log4j-stdout.xml</argument>
                                <argument>-Donebusaway_prefix=${basedir}</argument>
                                <argument>org.onebusaway.transit_data_federation.bundle.FederatedTransitDataBundleCreatorMain</argument>
                                <argument>-onlyIfDoesNotExist</argument>
                                <argument>-additionalResourcesDirectory</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle-si.xml</argument>
                                <argument>${project.build.directory}/transit-data-bundle/si</argument>
                            </arguments>
                        </configuration>
                    </execution>
                    <execution>
                        <id>graph-builder-execution-2012Jan_SIB63M34_r20_b01</id>
                        <phase>pre-integration-test</phase>
                        <goals>
                            <goal>exec</goal>
                        </goals>
                        <configuration>
                            <executable>java</executable>
                            <arguments>
                                <argument>-Xmx2G</argument>
                                <argument>-classpath</argument>
                                <classpath />
                                <argument>-Dlog4j.configuration=log4j-stdout.xml</argument>
                                <argument>-Donebusaway_prefix=${basedir}</argument>
                                <argument>org.onebusaway.transit_data_federation.bundle.FederatedTransitDataBundleCreatorMain</argument>
                                <argument>-onlyIfDoesNotExist</argument>
                                <argument>-additionalResourcesDirectory</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle-2012Jan_SIB63M34_r20_b01.xml</argument>
                                <argument>${project.build.directory}/transit-data-bundle/2012Jan_SIB63M34_r20_b01</argument>
                            </arguments>
                        </configuration>
                    </execution>                
                    <execution>
                        <id>graph-builder-execution-2013June_Prod_r04_b03</id>
                        <phase>pre-integration-test</phase>
                        <goals>
                            <goal>exec</goal>
                        </goals>
                        <configuration>
                            <executable>java</executable>
                            <arguments>
                                <argument>-Xmx1500m</argument>
                                <argument>-classpath</argument>
                                <classpath />
                                <argument>-Dlog4j.configuration=log4j-stdout.xml</argument>
                                <argument>-Donebusaway_prefix=${basedir}</argument>
                                <argument>org.onebusaway.transit_data_federation.bundle.FederatedTransitDataBundleCreatorMain</argument>
                                <argument>-onlyIfDoesNotExist</argument>
                                <argument>-additionalResourcesDirectory</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle-2013June_Prod_r04_b03.xml</argument>
                                <argument>${project.build.directory}/transit-data-bundle/2013June_Prod_r04_b03</argument>
                            </arguments>
                        </configuration>
                    </execution>
                    <execution>
                        <id>graph-builder-execution-2013June_Prod_r03_b02</id>
                        <phase>pre-integration-test</phase>
                        <goals>
                            <goal>exec</goal>
                        </goals>
                        <configuration>
                            <executable>java</executable>
                            <arguments>
                                <argument>-Xmx1500m</argument>
                                <argument>-classpath</argument>
                                <classpath />
                                <argument>-Dlog4j.configuration=log4j-stdout.xml</argument>
                                <argument>-Donebusaway_prefix=${basedir}</argument>
                                <argument>org.onebusaway.transit_data_federation.bundle.FederatedTransitDataBundleCreatorMain</argument>
                                <argument>-onlyIfDoesNotExist</argument>
                                <argument>-additionalResourcesDirectory</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle</argument>
                                <argument>${basedir}/src/integration-test/resources/bundle-2013June_Prod_r03_b02.xml</argument>
                                <argument>${project.build.directory}/transit-data-bundle/2013June_Prod_r03_b02</argument>
                            </arguments>
                        </configuration>
                    </execution>
		</executions>
            </plugin>
            <!-- Start up an embedded database for sharing the user database between webapps -->
            <plugin>
                <groupId>org.onebusaway.plugins</groupId>
                <artifactId>maven-hsqldb-plugin</artifactId>
                <version>1.0</version>
                <executions>
                    <execution>
                        <id>user-database</id>
                        <phase>pre-integration-test</phase>
                        <goals>
                            <goal>run</goal>
                        </goals>
                        <configuration>
                            <deleteOnEntry>true</deleteOnEntry>
                            <dbName>${project.build.directory}/org_onebusaway_database_users</dbName>
                            <port>${hsqldb.port}</port>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <!-- Start up all the webapps using the cargo plugin -->
            <plugin>
                <groupId>org.codehaus.cargo</groupId>
                <artifactId>cargo-maven2-plugin</artifactId>
                <version>1.0.6</version>
                <configuration>
                    <container>
<!-- use this when debugging cargo -->
<!--
                        <log>${java.io.tmpdir}/cargo.log</log>
                        <output>${java.io.tmpdir}/cargo</output>
-->
                        <append>true</append>
                        <containerId>tomcat5x</containerId>
                        <systemProperties>
                            <onebusaway_prefix>${basedir}</onebusaway_prefix>
                            <hsqldb.port>${hsqldb.port}</hsqldb.port>
                            <org.onebusaway.transit_data_federation_webapp.port>${org.onebusaway.transit_data_federation_webapp.port}</org.onebusaway.transit_data_federation_webapp.port>
                        </systemProperties>
                        <zipUrlInstaller>
                            <url>http://developer.onebusaway.org/dist/apache-tomcat-${tomcat-version}.zip</url>
                            <installDir>${java.io.tmpdir}/cargo-installs</installDir>
                        </zipUrlInstaller>
                    </container>
                    <!-- Don't wait around once the container has been started -->
                    <wait>false</wait><!-- now deprecated -->
                </configuration>
                <executions>
                    <execution>
                        <id>start-container-nyc-vehicle-tracking-webapp</id>
                        <phase>pre-integration-test</phase>
                        <goals>
                            <goal>start</goal>
                        </goals>
                        <configuration>
                            <configuration>
                                <home>${project.build.directory}/tomcat5x/onebusaway-nyc-vehicle-tracking-webapp</home>
                                <properties>
                                    <cargo.jvmargs>${cargo.jvmargs}</cargo.jvmargs>
										<!-- Use this to attach the debugger to the VTW running within cargo -->
										<!-- <cargo.jvmargs>${cargo.jvmargs} -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=1044</cargo.jvmargs> -->
                                    <cargo.servlet.port>${org.onebusaway.transit_data_federation_webapp.port}</cargo.servlet.port>
                                    <cargo.tomcat.ajp.port>${org.onebusaway.transit_data_federation_webapp.ajp_port}</cargo.tomcat.ajp.port>
                                    <cargo.rmi.port>${org.onebusaway.transit_data_federation_webapp.rmi_port}</cargo.rmi.port>
                                    <cargo.logging>${cargo.logging}</cargo.logging>
                                </properties>
                                <deployables>
                                    <deployable>
                                        <groupId>org.onebusaway</groupId>
                                        <artifactId>onebusaway-nyc-vehicle-tracking-webapp</artifactId>
                                        <type>war</type>
                                        <properties>
                                            <context>onebusaway-nyc-vehicle-tracking-webapp</context>
                                        </properties>
                                        <location>${project.build.directory}/onebusaway-nyc-integration-tests-onebusaway-nyc-vehicle-tracking-webapp.war</location>
                                        <pingURL>http://localhost:${org.onebusaway.transit_data_federation_webapp.port}/onebusaway-nyc-vehicle-tracking-webapp/</pingURL>
                                        <pingTimeout>${ping_timeout}</pingTimeout>
                                    </deployable>
                                </deployables>
                            </configuration>
                        </configuration>
                    </execution>
                    <execution>
                        <id>start-container-webapp</id>
                        <phase>pre-integration-test</phase>
                        <goals>
                            <goal>start</goal>
                        </goals>
                        <configuration>
                            <configuration>
                                <home>${project.build.directory}/tomcat5x/webapp</home>
                                <properties>
                                    <cargo.jvmargs>${cargo.jvmargs}</cargo.jvmargs>
                                    <cargo.servlet.port>${org.onebusaway.webapp.port}</cargo.servlet.port>
                                    <cargo.tomcat.ajp.port>${org.onebusaway.webapp.ajp_port}</cargo.tomcat.ajp.port>
                                    <cargo.rmi.port>${org.onebusaway.webapp.rmi_port}</cargo.rmi.port>
                                    <cargo.logging>${cargo.logging}</cargo.logging>
                                </properties>
                                <deployables>
                                    <deployable>
                                        <groupId>org.onebusaway</groupId>
                                        <artifactId>onebusaway-nyc-api-webapp</artifactId>
                                        <type>war</type>
                                        <properties>
                                            <context>onebusaway-nyc-api-webapp</context>
                                        </properties>
                                        <location>${project.build.directory}/onebusaway-nyc-integration-tests-onebusaway-nyc-api-webapp.war</location>
                                        <pingURL>http://localhost:${org.onebusaway.webapp.port}/onebusaway-nyc-api-webapp/</pingURL>
                                        <pingTimeout>${ping_timeout}</pingTimeout>
                                    </deployable>
                                    <deployable>
                                        <groupId>org.onebusaway</groupId>
                                        <artifactId>onebusaway-nyc-webapp</artifactId>
                                        <type>war</type>
                                        <properties>
                                            <context>onebusaway-nyc-webapp</context>
                                        </properties>
                                        <location>${project.build.directory}/onebusaway-nyc-integration-tests-onebusaway-nyc-webapp.war</location>
                                        <pingURL>http://localhost:${org.onebusaway.webapp.port}/onebusaway-nyc-webapp/</pingURL>
                                        <pingTimeout>${ping_timeout}</pingTimeout>
                                    </deployable>
                                </deployables>
                            </configuration>
                        </configuration>
                    </execution>
                    <!-- The hooks to shutdown the webapps after integration testing -->
                    <execution>
                        <id>stop-container-webapp</id>
                        <phase>post-integration-test</phase>
                        <goals>
                            <goal>stop</goal>
                        </goals>
                        <configuration>
                            <configuration>
                                <home>${project.build.directory}/tomcat5x/webapp</home>
                                <properties>
                                    <cargo.jvmargs>${cargo.jvmargs}</cargo.jvmargs>
                                    <cargo.servlet.port>${org.onebusaway.webapp.port}</cargo.servlet.port>
                                    <cargo.tomcat.ajp.port>${org.onebusaway.webapp.ajp_port}</cargo.tomcat.ajp.port>
                                    <cargo.rmi.port>${org.onebusaway.webapp.rmi_port}</cargo.rmi.port>
                                    <cargo.logging>${cargo.logging}</cargo.logging>
                                </properties>
                            </configuration>
                        </configuration>
                    </execution>
                    <execution>
                        <id>stop-container-nyc-vehicle-tracking-webapp</id>
                        <phase>post-integration-test</phase>
                        <goals>
                            <goal>stop</goal>
                        </goals>
                        <configuration>
                            <configuration>
                                <home>${project.build.directory}/tomcat5x/onebusaway-nyc-vehicle-tracking-webapp</home>
                                <properties>
                                    <cargo.jvmargs>${cargo.jvmargs}</cargo.jvmargs>
                                    <cargo.servlet.port>${org.onebusaway.transit_data_federation_webapp.port}</cargo.servlet.port>
                                    <cargo.tomcat.ajp.port>${org.onebusaway.transit_data_federation_webapp.ajp_port}</cargo.tomcat.ajp.port>
                                    <cargo.rmi.port>${org.onebusaway.transit_data_federation_webapp.rmi_port}</cargo.rmi.port>
                                    <cargo.logging>${cargo.logging}</cargo.logging>
                                </properties>
                            </configuration>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <!-- Start up the selenium server, which we used for web-based integration tests -->
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>selenium-maven-plugin</artifactId>
                <version>1.0.1</version>
                <executions>
                    <execution>
                        <id>selenium-start-server</id>
                        <phase>pre-integration-test</phase>
                        <goals>
                            <goal>start-server</goal>
                        </goals>
                        <configuration>
                            <background>true</background>
                        </configuration>
                    </execution>
                    <execution>
                        <id>selenium-stop-server</id>
                        <phase>post-integration-test</phase>
                        <goals>
                            <goal>stop-server</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>
</project>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <artifactId>onebusaway-nyc</artifactId>
        <groupId>org.onebusaway</groupId>
        <version>2.11.0-SNAPSHOT</version>
    </parent>
    <groupId>org.onebusaway</groupId>
    <artifactId>onebusaway-nyc-presentation</artifactId>
    <packaging>jar</packaging>
    <name>onebusaway-nyc-presentation</name>

    <dependencies>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-presentation</artifactId>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-transit-data</artifactId>
            <version>2.11.0-SNAPSHOT</version>
        </dependency>
        <dependency>
                <groupId>org.onebusaway</groupId>
                <artifactId>onebusaway-nyc-util</artifactId>
                <version>2.11.0-SNAPSHOT</version>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-siri-api-v13</artifactId>
            <version>${onebusaway.siri.version}</version>
        </dependency>

        <!-- Struts2 Dependencies -->
        <dependency>
            <groupId>org.apache.struts</groupId>
            <artifactId>struts2-core</artifactId>
        </dependency>
        <dependency>
            <groupId>org.apache.struts</groupId>
            <artifactId>struts2-spring-plugin</artifactId>
        </dependency>
        <dependency>
            <groupId>org.apache.struts</groupId>
            <artifactId>struts2-convention-plugin</artifactId>
        </dependency>
        <dependency>
            <groupId>org.apache.struts</groupId>
            <artifactId>struts2-sitemesh-plugin</artifactId>
        </dependency>
        <dependency>
            <groupId>org.apache.struts</groupId>
            <artifactId>struts2-json-plugin</artifactId>
        </dependency>

        <dependency>
            <groupId>org.codehaus.jackson</groupId>
            <artifactId>jackson-xc</artifactId>
            <version>1.9.2</version>
        </dependency>
        
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>apache-log4j-extras</artifactId>
        </dependency>

        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <scope>test</scope>
        </dependency>
        <dependency>
          <groupId>org.mockito</groupId>
          <artifactId>mockito-all</artifactId>
        </dependency>
        
        <dependency>
            <groupId>commons-lang</groupId>
            <artifactId>commons-lang</artifactId>
            <version>2.5</version>
        </dependency>

        <dependency>
          <groupId>org.onebusaway</groupId>
          <artifactId>
            onebusaway-nyc-transit-data-federation
          </artifactId>
          <version>2.11.0-SNAPSHOT</version>
        </dependency>

                <dependency>
                        <groupId>com.google.code.simple-spring-memcached</groupId>
                        <artifactId>spymemcached</artifactId>
                        <version>2.8.1</version>
                </dependency>
                
    </dependencies>
</project><project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>org.onebusaway</groupId>
    <artifactId>onebusaway-nyc</artifactId>
    <version>2.11.0-SNAPSHOT</version>
  </parent>
  <groupId>org.onebusaway</groupId>
  <artifactId>onebusaway-nyc-queue-broker</artifactId>
  <packaging>jar</packaging>
  <url>http://maven.apache.org</url>
  <dependencies>
    <dependency>
      <groupId>org.zeromq</groupId>
      <artifactId>jzmq</artifactId>
      <version>053c2d7</version><!-- git revision -->
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
    </dependency>
    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-log4j12</artifactId>
    </dependency>
    <dependency>
      <groupId>log4j</groupId>
      <artifactId>apache-log4j-extras</artifactId>
    </dependency>
  </dependencies>
  <profiles>
    <profile>
      <id>cloud</id>
      <activation>
        <activeByDefault>true</activeByDefault>
      </activation>
      <properties>
        <log4j.appender>ROLL</log4j.appender>
      </properties>
    </profile>
    <profile>
      <id>local-front-end</id>
      <properties>
        <log4j.appender>stdout</log4j.appender>
      </properties>
    </profile>
  </profiles>
  <build>
    <finalName>onebusaway-nyc-queue-broker</finalName>
    <plugins>
      <plugin>
        <artifactId>maven-jar-plugin</artifactId>
        <configuration>
          <archive>
            <manifest>
              <addClasspath>true</addClasspath>
              <mainClass>org.onebusaway.nyc.queue_broker.SimpleBroker</mainClass>
            </manifest>
          </archive>
        </configuration>
      </plugin>
      <!-- start assembly -->
      <plugin>
        <artifactId>maven-assembly-plugin</artifactId>
        <configuration>
          <descriptorRefs>
            <descriptorRef>jar-with-dependencies</descriptorRef>
          </descriptorRefs>
          <archive>
            <manifest>
              <mainClass>org.onebusaway.nyc.queue_broker.SimpleBroker</mainClass>
            </manifest>
          </archive>
        </configuration>
        <executions>
          <execution>
            <id>make-assembly</id> <!-- this is used for inheritance merges -->
            <phase>package</phase> <!-- bind to the packaging phase -->
            <goals>
              <goal>single</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
    <!-- end assembly -->
    </plugins>
    <resources>
      <resource>
        <directory>src/main/resources</directory>
        <filtering>true</filtering>
      </resource>
    </resources>
  </build>
</project>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>org.onebusaway</groupId>
    <artifactId>onebusaway-nyc</artifactId>
    <version>2.11.0-SNAPSHOT</version>
  </parent>
  <artifactId>onebusaway-nyc-queue-http-proxy</artifactId>
  <packaging>war</packaging>
  <name>onebusaway-nyc-queue-http-proxy</name>
  <url>http://maven.apache.org</url>
  <dependencies>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.zeromq</groupId>
      <artifactId>jzmq</artifactId>
      <version>053c2d7</version><!-- git revision -->
      <scope>compile</scope>
    </dependency>
    <!-- build servlet -->
    <dependency>
      <groupId>javax.servlet</groupId>
      <artifactId>servlet-api</artifactId>
      <version>2.4</version>
      <scope>provided</scope>
    </dependency>
    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-log4j12</artifactId>
    </dependency>
    <dependency>
      <groupId>log4j</groupId>
      <artifactId>apache-log4j-extras</artifactId>
    </dependency>
    <dependency>
      <groupId>org.codehaus.jackson</groupId>
      <artifactId>jackson-xc</artifactId>
      <version>1.9.2</version>
    </dependency>
    <dependency>
      <groupId>com.google.code.gson</groupId>
      <artifactId>gson</artifactId>
      <version>1.7.1</version>
    </dependency>
    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-nyc-queue-subscriber</artifactId>
      <version>2.11.0-SNAPSHOT</version>
    </dependency>

  </dependencies>
  <profiles>
    <profile>
      <id>cloud</id>
      <activation>
        <activeByDefault>true</activeByDefault>
      </activation>
      <properties>
        <log4j.appender>stdout</log4j.appender><!--  needs to be stdout for integration tests -->
      </properties>
    </profile>
    <profile>
      <id>local-front-end</id>
      <properties>
        <log4j.appender>stdout</log4j.appender>
      </properties>
    </profile>
  </profiles>
  <build>
    <finalName>onebusaway-nyc-queue-http-proxy</finalName>
    <testSourceDirectory>test/it/java</testSourceDirectory>
    <testResources>
      <testResource>
        <filtering>false</filtering>
        <directory>test/it/resources</directory>
      </testResource>
    </testResources>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <configuration>
          <source>1.5</source>
          <target>1.5</target>
        </configuration>
      </plugin>
      <!-- jetty -->
      <plugin>
        <groupId>org.mortbay.jetty</groupId>
        <artifactId>maven-jetty-plugin</artifactId>
        <version>${jetty.version}</version>
        <configuration>
          <scanIntervalSeconds>10</scanIntervalSeconds>
          <stopPort>8095</stopPort>
          <stopKey>STOP</stopKey>
          <connectors>
            <connector implementation="org.mortbay.jetty.nio.SelectChannelConnector">
              <port>8181</port>
              <maxIdleTime>1000</maxIdleTime>
            </connector>
          </connectors>
          <webAppConfig>
            <contextPath>/test</contextPath>
          </webAppConfig>
        </configuration>
        <executions>
          <execution>
            <id>start-jetty</id>
            <phase>pre-integration-test</phase>
            <goals>
              <goal>run</goal>
            </goals>
            <configuration>
              <scanIntervalSeconds>0</scanIntervalSeconds>
              <daemon>true</daemon>
            </configuration>
          </execution>
          <execution>
            <id>stop-jetty</id>
            <phase>post-integration-test</phase>
            <goals>
              <goal>stop</goal>
            </goals>
          </execution>
        </executions>

      </plugin>
      <!-- integration testing -->
      <!-- 
      <plugin>
        <artifactId>maven-failsafe-plugin</artifactId>
        <version>2.6</version>
        <executions>
          <execution>
            <goals>
              <goal>integration-test</goal>
              <goal>verify</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
      -->
      <!--  start assembly -->
      <plugin>
        <artifactId>maven-jar-plugin</artifactId>
      </plugin>
      <!--  end assembly -->
    </plugins>
    <resources>
      <resource>
        <directory>src/main/resources</directory>
        <filtering>true</filtering>
      </resource>
    </resources>
  </build>
</project>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <artifactId>onebusaway-nyc</artifactId>
    <groupId>org.onebusaway</groupId>
    <version>2.11.0-SNAPSHOT</version>
  </parent>
  <groupId>org.onebusaway</groupId>
  <artifactId>onebusaway-nyc-queue-realtime</artifactId>
  <packaging>jar</packaging>
  <name>onebusaway-nyc-queue-realtime</name>
  <dependencies>
    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-nyc-tcip-api</artifactId>
      <version>2.2.1</version>
    </dependency>
    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-log4j12</artifactId>
    </dependency>
    <dependency>
      <groupId>log4j</groupId>
      <artifactId>apache-log4j-extras</artifactId>
    </dependency>

    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <scope>test</scope>
    </dependency>
  </dependencies>
</project>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>org.onebusaway</groupId>
    <artifactId>onebusaway-nyc</artifactId>
    <version>2.11.0-SNAPSHOT</version>
  </parent>
  <groupId>org.onebusaway</groupId>
  <artifactId>onebusaway-nyc-queue-subscriber</artifactId>
  <packaging>jar</packaging>
  <name>onebusaway-nyc-queue-subscriber</name>
  <dependencies>
    <!-- for configuration service -->
    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-nyc-util</artifactId>
      <version>2.11.0-SNAPSHOT</version>
    </dependency>
    <dependency>
      <groupId>org.zeromq</groupId>
      <artifactId>jzmq</artifactId>
      <version>053c2d7</version><!-- git revision -->
      <scope>compile</scope>
    </dependency>
    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-log4j12</artifactId>
    </dependency>
    <dependency>
      <groupId>log4j</groupId>
      <artifactId>apache-log4j-extras</artifactId>
    </dependency>
    <dependency>
      <groupId>org.springframework</groupId>
      <artifactId>spring-core</artifactId>
    </dependency>
    <dependency>
      <groupId>org.springframework</groupId>
      <artifactId>spring-aop</artifactId>
      <version>${spring.version}</version>
    </dependency>
    <dependency>
      <groupId>org.springframework</groupId>
      <artifactId>spring-aspects</artifactId>
      <version>${spring.version}</version>
    </dependency>
    <dependency>
      <groupId>org.codehaus.jackson</groupId>
      <artifactId>jackson-xc</artifactId>
      <version>1.9.2</version>
    </dependency>
    <dependency>
      <groupId>com.eaio.uuid</groupId>
      <artifactId>uuid</artifactId>
      <version>3.2</version>
    </dependency>
    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-nyc-queue-realtime</artifactId>
      <version>2.11.0-SNAPSHOT</version>
    </dependency>
  </dependencies>
  <profiles>
    <profile>
      <id>cloud</id>
      <activation>
         <activeByDefault>true</activeByDefault>
      </activation>
      <build>
        <finalName>onebusaway-nyc-queue-subscriber</finalName>
        <plugins>
          <plugin>
            <artifactId>maven-jar-plugin</artifactId>
            
            <configuration>
              <archive>
                <manifest>
                  <addClasspath>true</addClasspath>
                  <mainClass>org.onebusaway.nyc.queue.Subscriber</mainClass>
                </manifest>
              </archive>
            </configuration>
          </plugin>
          <plugin>
            <artifactId>maven-assembly-plugin</artifactId>
            <configuration>
              <descriptorRefs>
                <descriptorRef>jar-with-dependencies</descriptorRef>
              </descriptorRefs>
              <archive>
                <manifest>
                  <mainClass>org.onebusaway.nyc.queue.Subscriber</mainClass>
                </manifest>
              </archive>
            </configuration>
            <executions>
              <execution>
                <id>make-assembly</id> <!-- this is used for inheritance merges -->
                <phase>package</phase> <!-- bind to the packaging phase -->
                <goals>
                  <goal>single</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>
    <profile>
      <id>have-zmq</id>
      <build>
        <finalName>onebusaway-nyc-queue-subscriber</finalName>
        <plugins>
          <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>exec-maven-plugin</artifactId>
            <version>1.2</version>
            <executions>
              <execution>
                <phase>test</phase>
                <goals>
                  <goal>java</goal>
                </goals>
                <configuration>
                  <mainClass>org.onebusaway.nyc.queue.Subscriber</mainClass>
                  <arguments />
                </configuration>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <artifactId>maven-jar-plugin</artifactId>
            <configuration>
              <archive>
                <manifest>
                  <addClasspath>true</addClasspath>
                  <mainClass>org.onebusaway.nyc.queue.Subscriber</mainClass>
                </manifest>
              </archive>
            </configuration>
          </plugin>
          <plugin>
            <artifactId>maven-assembly-plugin</artifactId>
            <configuration>
              <descriptorRefs>
                <descriptorRef>jar-with-dependencies</descriptorRef>
              </descriptorRefs>
              <archive>
                <manifest>
                  <mainClass>org.onebusaway.nyc.queue.Subscriber</mainClass>
                </manifest>
              </archive>
            </configuration>
            <executions>
              <execution>
                <id>make-assembly</id> <!-- this is used for inheritance merges -->
                <phase>package</phase> <!-- bind to the packaging phase -->
                <goals>
                  <goal>single</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>
  </profiles>
</project>
<?xml version="1.0"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <artifactId>onebusaway-nyc</artifactId>
    <groupId>org.onebusaway</groupId>
    <version>2.11.0-SNAPSHOT</version>
  </parent>
  <groupId>org.onebusaway</groupId>
  <artifactId>onebusaway-nyc-queue-test</artifactId>
  <packaging>pom</packaging>
  <name>onebusaway-nyc-queue-test</name>
  <dependencies>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.zeromq</groupId>
      <artifactId>jzmq</artifactId>
      <version>053c2d7</version><!-- git revision -->
      <scope>compile</scope>
    </dependency>
    <!-- build servlet -->
    <dependency>
      <groupId>javax.servlet</groupId>
      <artifactId>servlet-api</artifactId>
      <version>2.4</version>
      <scope>provided</scope>
    </dependency>
    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-log4j12</artifactId>
    </dependency>
    <dependency>
      <groupId>log4j</groupId>
      <artifactId>apache-log4j-extras</artifactId>
    </dependency>
    <!-- UUID support -->
    <dependency>
      <groupId>com.eaio.uuid</groupId>
      <artifactId>uuid</artifactId>
      <version>3.2</version>
    </dependency>
    <dependency>
      <groupId>org.codehaus.jackson</groupId>
      <artifactId>jackson-xc</artifactId>
      <version>1.9.2</version>
    </dependency>
    <dependency>
      <groupId>com.google.code.gson</groupId>
      <artifactId>gson</artifactId>
      <version>1.7.1</version>
    </dependency>
    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-nyc-queue-realtime</artifactId>
      <version>2.11.0-SNAPSHOT</version>
    </dependency>
    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-nyc-transit-data</artifactId>
      <version>2.11.0-SNAPSHOT</version>
    </dependency>
    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-nyc-tcip-api</artifactId>
      <version>2.2.1</version>
    </dependency>
    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-nyc-queue-subscriber</artifactId>
      <version>2.11.0-SNAPSHOT</version>
    </dependency>
  </dependencies>
  <build>
    <finalName>onebusaway-nyc-queue-test</finalName>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>2.3.2</version>
        <configuration>
          <source>1.5</source>
          <target>1.5</target>
        </configuration>
      </plugin>
      <!-- jetty -->
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>exec-maven-plugin</artifactId>
        <version>1.2.1</version>
        <executions>
          <execution>
            <goals>
              <goal>java</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <mainClass>org.onebusaway.nyc.queue_test.ThroughputHarness</mainClass>
          <arguments>
            <argument>*</argument>
            <argument>5564</argument>
            <argument>*</argument>
            <argument>5567</argument>
            <argument>1000</argument>
          </arguments>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-jar-plugin</artifactId>
        <configuration>
          <archive>
            <manifest>
              <addClasspath>true</addClasspath>
              <mainClass>org.onebusaway.nyc.queue_test.ThroughputHarness</mainClass>
            </manifest>
          </archive>
        </configuration>
      </plugin>
    </plugins>
  </build>
</project>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <artifactId>onebusaway-nyc</artifactId>
        <groupId>org.onebusaway</groupId>
        <version>2.11.0-SNAPSHOT</version>
        <relativePath>..</relativePath>
    </parent>
    <artifactId>onebusaway-nyc-report-archive</artifactId>
    <packaging>war</packaging>
    <name>onebusaway-nyc-report-archive</name>
    <description>Reporting app &amp; data archiving.</description>
    <dependencies>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-queue-realtime</artifactId>
            <version>2.11.0-SNAPSHOT</version>
        </dependency>
	<dependency>
	  <groupId>org.onebusaway</groupId>
	  <artifactId>onebusaway-nyc-queue-subscriber</artifactId>
	  <version>2.11.0-SNAPSHOT</version>
	</dependency>
    	<dependency>
      	    <groupId>com.google.protobuf</groupId>
      	    <artifactId>protobuf-java</artifactId>
      	    <version>2.4.0a</version>
    	</dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-vehicle-tracking</artifactId>
            <version>2.11.0-SNAPSHOT</version>
        </dependency>
	<!-- transit data service -->
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-transit-data</artifactId>
            <version>2.11.0-SNAPSHOT</version>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-util</artifactId>
            <version>2.11.0-SNAPSHOT</version>
        </dependency>
	<!-- for configuration service impl -->
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-transit-data-federation</artifactId>
            <version>2.11.0-SNAPSHOT</version>
        </dependency>
		<dependency>
			<groupId>org.codehaus.jackson</groupId>
			<artifactId>jackson-xc</artifactId>
			<version>1.9.2</version>
		</dependency>
        <dependency>
            <groupId>org.hsqldb</groupId>
            <artifactId>hsqldb</artifactId>
            <version>2.0.0</version>
        </dependency>

        <dependency>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
            <version>5.1.17</version>
        </dependency>

        <dependency>
            <groupId>joda-time</groupId>
            <artifactId>joda-time</artifactId>
            <version>2.0</version>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-tcip-api</artifactId>
            <version>2.2.1</version>
        </dependency>
        <dependency>
            <groupId>org.mockito</groupId>
            <artifactId>mockito-all</artifactId>
            <version>1.9.0-rc1</version>
        </dependency>
        <dependency>
      		<groupId>com.sun.jersey</groupId>
      		<artifactId>jersey-server</artifactId>
      		<version>1.9.1</version>
    	</dependency>
    	<dependency>
      		<groupId>com.sun.jersey.contribs</groupId>
      		<artifactId>jersey-spring</artifactId>
      		<version>1.9.1</version>
    	</dependency>

        <dependency>
             <groupId>org.slf4j</groupId>
             <artifactId>slf4j-log4j12</artifactId>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>apache-log4j-extras</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-webmvc</artifactId>
        </dependency>
        <!-- RMI-like service for wiring up services between VMs -->
        <dependency>
            <groupId>com.caucho</groupId>
            <artifactId>resin-hessian</artifactId>
	        <version>3.1.6</version>
        </dependency>
        <dependency>
          <groupId>org.onebusaway</groupId>
          <artifactId>onebusaway-nyc-tdm-adapters</artifactId>
          <version>2.11.0-SNAPSHOT</version>
        </dependency>
	     <!--  amazon ws integration -->
	    <dependency>
	      <groupId>com.amazonaws</groupId>
	      <artifactId>aws-java-sdk</artifactId>
	      <version>1.3.9</version>
	      <exclusions>
	        <exclusion>
	          <groupId>org.codehaus.jackson</groupId>
	          <artifactId>jackson-core-asl</artifactId>
	        </exclusion>
	        <exclusion>
	          <groupId>org.codehaus.jackson</groupId>
	          <artifactId>jackson-mapper-asl</artifactId>
	        </exclusion>
	      </exclusions>
	    </dependency>
	    <dependency>
	      <groupId>commons-logging</groupId>
	      <artifactId>commons-logging</artifactId>
	      <version>1.1.1</version>
	    </dependency>
	    <dependency>
	      <groupId>javax.servlet</groupId>
	      <artifactId>servlet-api</artifactId>
	      <version>2.4</version>
	      <scope>provided</scope>
	    </dependency>
    </dependencies>
    <profiles>
        <profile>
            <id>cloud</id> <!-- aka staging, production -->
            <activation>
                <activeByDefault>true</activeByDefault>
            </activation>
            <properties>
                <bundle.location>/mnt/obanyc/oba-bundle</bundle.location>
                <bundle.mode.standalone>false</bundle.mode.standalone>
                <tds.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path><!-- assumes domain is set in resolv.conf -->
                <tdm.host>tdm</tdm.host>
                <log4j.appender>ROLL</log4j.appender>
                <log4j.hibernate.sql>OFF</log4j.hibernate.sql>
                <log4j.hibernate.type>OFF</log4j.hibernate.type>
            </properties>
        </profile>
        <profile>
            <id>hibernate-logging</id>
            <properties>
                <log4j.hibernate.sql>DEBUG</log4j.hibernate.sql>
                <log4j.hibernate.type>TRACE</log4j.hibernate.type>
            </properties>
        </profile>
        <profile>
            <id>local-front-end</id>
            <properties>
            	<bundle.location>/var/lib/obanyc/oba-bundle</bundle.location>
                <bundle.mode.standalone>false</bundle.mode.standalone>
                <jetty.port>8082</jetty.port>
                <tds.path>http://sms.dev.obanyc.com:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <log4j.appender>stdout</log4j.appender>
                <log4j.hibernate.sql>OFF</log4j.hibernate.sql>
                <log4j.hibernate.type>OFF</log4j.hibernate.type>
            </properties>
        </profile>
<!-- archive can't run single port because zeromq can't be shared (classloader issues) -->
        <profile>
            <!-- Transit data federation webapp offers the TDS -->
            <id>local-single-port</id><!-- akaservices-tdf-as-tds --> <!-- aka staging, production -->
            <properties>
                <bundle.location>/var/lib/obanyc/oba-bundle-archive</bundle.location>
                <bundle.mode.standalone>false</bundle.mode.standalone>
                <jetty.port>8085</jetty.port>
                <tds.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <log4j.appender>stdout</log4j.appender>
                <log4j.hibernate.sql>OFF</log4j.hibernate.sql>
                <log4j.hibernate.type>OFF</log4j.hibernate.type>
            </properties>
        </profile>
        <profile>
            <id>local-ie</id> <!-- aka services-vtw-as-tds --> <!-- single port, aka development -->
            <properties>
            	<bundle.location>/var/lib/obanyc/oba-bundle-archive</bundle.location>
                <bundle.mode.standalone>false</bundle.mode.standalone>
                <tds.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</tds.path>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <log4j.appender>stdout</log4j.appender>
                <log4j.hibernate.sql>OFF</log4j.hibernate.sql>
                <log4j.hibernate.type>OFF</log4j.hibernate.type>
            </properties>
        </profile>
        <profile>
            <id>local-multi-port</id> <!-- services-vtw-as-tds-multiport --><!-- multi port, also for development -->
            <properties>
                <bundle.location>/var/lib/obanyc/oba-bundle</bundle.location>
                <bundle.mode.standalone>false</bundle.mode.standalone>
                <jetty.port>8082</jetty.port>
                <tds.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</tds.path>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <log4j.appender>stdout</log4j.appender>
                <log4j.hibernate.sql>OFF</log4j.hibernate.sql>
                <log4j.hibernate.type>OFF</log4j.hibernate.type>
            </properties>
        </profile>
    </profiles>
    <build>
      <finalName>onebusaway-nyc-report-archive</finalName>
        <plugins>
			<plugin>
				<groupId>pl.project13.maven</groupId>
				<artifactId>git-commit-id-plugin</artifactId>
				<version>2.1.2</version>
				<executions>
					<execution>
						<goals>
							<goal>revision</goal>
						</goals>
					</execution>
				</executions>
				<configuration>
					<prefix>git</prefix>
					<dateFormat>dd.MM.yyyy '@' HH:mm:ss z</dateFormat>
					<verbose>true</verbose>
					<skipPoms>false</skipPoms>
					<generateGitPropertiesFile>false</generateGitPropertiesFile>
					<generateGitPropertiesFilename>src/main/resources/git.properties</generateGitPropertiesFilename>
					<gitDescribe>
						<skip>false</skip>
						<always>true</always>
						<abbrev>7</abbrev>
						<dirty>-dirty</dirty>
						<forceLongFormat>false</forceLongFormat>
					</gitDescribe>
				</configuration>
			</plugin>        
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>hibernate3-maven-plugin</artifactId>
                <version>2.2</version>
                <configuration>
                    <components>
                        <component>
                            <name>hbm2ddl</name>
                            <implementation>annotationconfiguration</implementation>
                        </component>
                        <component>
                            <name>hbm2hbmxml</name>
                            <outputDirectory>src/main/resources</outputDirectory>
                        </component>
                    </components>
                    <componentProperties>
                        <drop>true</drop>
                        <configurationfile>/src/main/resources/hibernate.cfg.xml</configurationfile>
                    </componentProperties>
                </configuration>
                <dependencies>
                    <!-- TODO Remove this now? -->
                    <dependency>
                        <groupId>mysql</groupId>
                        <artifactId>mysql-connector-java</artifactId>
                        <version>5.1.17</version>
                    </dependency>
                    <!-- <dependency> <groupId>org.hsqldb</groupId> <artifactId>hsqldb</artifactId> <version>2.0.0</version> 
                        </dependency> -->
                </dependencies>
            </plugin>
            <plugin>
                <groupId>org.mortbay.jetty</groupId>
                <artifactId>maven-jetty-plugin</artifactId>
                <version>${jetty.version}</version>
		<configuration>
		  <scanIntervalSeconds>10</scanIntervalSeconds>
		  <connectors>
		    <connector implementation="org.mortbay.jetty.nio.SelectChannelConnector">
		      <port>8084</port>
		      <maxIdleTime>60000</maxIdleTime>
		    </connector>
		  </connectors>
		</configuration>
                <!-- <configuration> <connectors> <connector implementation="org.mortbay.jetty.nio.SelectChannelConnector"> 
                    <port>${jetty.port}</port> </connector> </connectors> </configuration> -->
            </plugin>
        </plugins>

        <resources>
            <resource>
                <directory>src/main/resources</directory>
                <filtering>true</filtering>
            </resource>
        </resources>
		<pluginManagement>
			<plugins>
				<plugin>
					<groupId>org.eclipse.m2e</groupId>
					<artifactId>lifecycle-mapping</artifactId>
					<version>1.0.0</version>
					<configuration>
						<lifecycleMappingMetadata>
							<pluginExecutions>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											pl.project13.maven
										</groupId>
										<artifactId>
											git-commit-id-plugin
										</artifactId>
										<versionRange>
											[2.1.2,)
										</versionRange>
										<goals>
											<goal>revision</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
									<execute>
											<runOnIncremental>true</runOnIncremental>
											<runOnConfiguration>true</runOnConfiguration>
									</execute>
									</action>
								</pluginExecution>
							</pluginExecutions>
						</lifecycleMappingMetadata>
					</configuration>
				</plugin>
			</plugins>
		</pluginManagement>
    </build>

</project>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <artifactId>onebusaway-nyc</artifactId>
    <groupId>org.onebusaway</groupId>
    <version>2.11.0-SNAPSHOT</version>
  </parent>
  <groupId>org.onebusaway</groupId>
  <artifactId>onebusaway-nyc-sms-webapp</artifactId>
  <packaging>war</packaging>
  <name>onebusaway-nyc-sms-webapp</name>

 <repositories>
    <repository>
      <id>spy</id>
      <name>Spy Repository</name>
      <layout>default</layout>
      <url>http://files.couchbase.com/maven2/</url>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
    </repository>
  </repositories>
  
  <dependencies>

    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-nyc-presentation</artifactId>
      <version>2.11.0-SNAPSHOT</version>
    </dependency>

    <dependency>
      <groupId>postgresql</groupId>
      <artifactId>postgresql</artifactId>
    </dependency>

    <dependency>
      <groupId>javax.servlet</groupId>
      <artifactId>jsp-api</artifactId>
    </dependency>
    <dependency>
      <groupId>javax.servlet</groupId>
      <artifactId>jstl</artifactId>
    </dependency>
    <dependency>
      <groupId>taglibs</groupId>
      <artifactId>standard</artifactId>
    </dependency>

    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-log4j12</artifactId>
    </dependency>
    <dependency>
      <groupId>log4j</groupId>
      <artifactId>apache-log4j-extras</artifactId>
    </dependency>

    <dependency>
      <groupId>org.mockito</groupId>
      <artifactId>mockito-all</artifactId>
    </dependency>
    <!-- for amazon deployment -->
    <dependency>
      <groupId>mysql</groupId>
      <artifactId>mysql-connector-java</artifactId>
      <version>5.1.17</version>
    </dependency>
    <dependency>
      <groupId>com.dmurph</groupId>
      <artifactId>JGoogleAnalyticsTracker</artifactId>
      <version>1.2.3</version>
    </dependency>
    
    <dependency>
     <groupId>spy</groupId>
     <artifactId>spymemcached</artifactId>
     <version>2.8.1</version>
    </dependency>
        
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <scope>test</scope>
    </dependency>
  </dependencies>

  <profiles>
    <profile>
      <!-- Transit data federation webapp offers the TDS -->
      <id>cloud</id> <!-- aka staging, production -->
      <activation>
        <activeByDefault>true</activeByDefault>
      </activation>
      <properties>
        <tds.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
        <vtms.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
        <config.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
        <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
        <tdm.host>tdm</tdm.host><!-- assumes domain is set in resolv.conf -->
        <webapp.api.url />
        <log4j.appender>ROLL</log4j.appender>
        <sms.sessions.manager>org.onebusaway.nyc.sms.impl.MemcacheSessionManagerImpl</sms.sessions.manager>
      </properties>
    </profile>
    <profile>
      <id>local-front-end</id>
      <properties>
        <tds.path>http://sms.dev.obanyc.com:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
        <vtms.path>http://sms.dev.obanyc.com:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
        <config.path>http://sms.dev.obanyc.com:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
        <archive.path>http://archive.dev.obanyc.com/onebusaway-nyc-report-archive</archive.path>
        <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
        <tdm.host>tdm.dev.obanyc.com</tdm.host>
        <webapp.api.url>http://localhost:8080</webapp.api.url>
        <log4j.appender>stdout</log4j.appender>
        <sms.sessions.manager>org.onebusaway.nyc.sms.impl.SessionManagerImpl</sms.sessions.manager>
      </properties>
    </profile>
    <profile>
      <id>local-single-port</id><!-- aka services-tdf-as-tds --> <!-- multi port, also for development -->
      <properties>
        <tds.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
        <vtms.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
        <config.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
        <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
        <webapp.api.url>http://localhost:8080</webapp.api.url>
        <tdm.host>tdm.dev.obanyc.com</tdm.host>
        <log4j.appender>stdout</log4j.appender>
        <sms.sessions.manager>org.onebusaway.nyc.sms.impl.SessionManagerImpl</sms.sessions.manager>
       </properties>
    </profile>
    <profile>
      <id>local-ie</id> <!-- aka services-vtw-as-tds --> <!-- single port, aka development -->
      <properties>
        <tds.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</tds.path>
        <vtms.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</vtms.path>
        <config.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</config.path>
        <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
        <webapp.api.url>http://localhost:8080</webapp.api.url>
        <tdm.host>tdm.dev.obanyc.com</tdm.host>
        <log4j.appender>stdout</log4j.appender>
        <sms.sessions.manager>org.onebusaway.nyc.sms.impl.SessionManagerImpl</sms.sessions.manager>
      </properties>
    </profile>
    <profile>
      <id>local-multi-port</id> <!-- services-vtw-as-tds-multiport --> <!-- multi port, also for development -->
      <!-- assumes we're running on 8080, and vtw and api are on different 
        ports -->
      <properties>
        <tds.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</tds.path>
        <vtms.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</vtms.path>
        <config.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</config.path>
        <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
        <webapp.api.url>http://localhost:8082</webapp.api.url>
        <tdm.host>tdm.staging.obanyc.com</tdm.host>
        <log4j.appender>stdout</log4j.appender>
        <sms.sessions.manager>org.onebusaway.nyc.sms.impl.SessionManagerImpl</sms.sessions.manager>
      </properties>
    </profile>
  </profiles>

  <build>
    <finalName>onebusaway-nyc-sms-webapp</finalName>
    <plugins>
      <plugin>
        <groupId>org.mortbay.jetty</groupId>
        <artifactId>maven-jetty-plugin</artifactId>
        <version>${jetty.version}</version>
        <configuration>
          <connectors>
            <connector implementation="org.mortbay.jetty.nio.SelectChannelConnector">
              <port>${jetty.port}</port>
            </connector>
          </connectors>
        </configuration>
      </plugin>
    </plugins>
    <resources>
      <resource>
        <directory>src/main/resources</directory>
        <filtering>true</filtering>
      </resource>
    </resources>
  </build>

</project>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <artifactId>onebusaway-nyc</artifactId>
    <groupId>org.onebusaway</groupId>
    <version>2.3.0</version>
  </parent>
  <groupId>org.onebusaway</groupId>
  <artifactId>onebusaway-nyc-tcip-api</artifactId>
  <packaging>jar</packaging>
  <name>onebusaway-nyc-tcip-api</name>
  <repositories>
    <repository>
      <id>java.net</id>
      <name>java.net Maven Repository</name>
      <url>https://maven-repository.dev.java.net/nonav/repository</url>
      <layout>legacy</layout>
    </repository>
  </repositories>
  <dependencies>
    <dependency>
      <groupId>javax.xml.bind</groupId>
      <artifactId>jaxb-api</artifactId>
      <version>2.0</version>
    </dependency>
  </dependencies>
  <build>
    <plugins>
      <plugin>
	<groupId>com.sun.tools.xjc.maven2</groupId>
	<artifactId>maven-jaxb-plugin</artifactId>
	<version>1.1.1</version>
	<executions>
	  <execution>
	    <goals>
	      <goal>generate</goal>
	    </goals>
	  </execution>
	</executions>
      </plugin>
      <plugin>
	<groupId>org.apache.maven.plugins</groupId>
	<artifactId>maven-compiler-plugin</artifactId>
	<configuration>
	  <source>1.5</source>
	</configuration>
      </plugin>
    </plugins>
  </build>
</project>
<?xml version="1.0"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <artifactId>onebusaway-nyc</artifactId>
    <groupId>org.onebusaway</groupId>
    <version>2.11.0-SNAPSHOT</version>
  </parent>
  <artifactId>onebusaway-nyc-tdm-adapters</artifactId>
  <packaging>jar</packaging>
  <name>onebusaway-nyc-tdm-adapters</name>
  <description>Conversion of inputs into standard formats</description>

  <properties>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>
  <dependencies>

    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
    </dependency>
    <dependency>
      <groupId>commons-lang</groupId>
      <artifactId>commons-lang</artifactId>
      <version>2.5</version>
    </dependency>

    <dependency>
      <groupId>com.sun.xml.bind</groupId>
      <artifactId>jaxb-impl</artifactId>
      <version>2.1.8</version>
    </dependency>

    <dependency>
      <groupId>com.sun.jersey</groupId>
      <artifactId>jersey-server</artifactId>
      <version>1.9.1</version>
    </dependency>
    <dependency>
      <groupId>com.sun.jersey.contribs</groupId>
      <artifactId>jersey-spring</artifactId>
      <version>1.9.1</version>
    </dependency>
    <dependency>
      <groupId>com.sun.jersey</groupId>
      <artifactId>jersey-bundle</artifactId>
      <version>1.10</version>
    </dependency>

    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-log4j12</artifactId>
    </dependency>
    <dependency>
      <groupId>net.sf.opencsv</groupId>
      <artifactId>opencsv</artifactId>
      <version>2.3</version>
    </dependency>
    <dependency>
      <groupId>joda-time</groupId>
      <artifactId>joda-time</artifactId>
      <version>2.0</version>
    </dependency>
    <dependency>
      <groupId>com.google.code.gson</groupId>
      <artifactId>gson</artifactId>
      <version>1.7.1</version>
    </dependency>
    <dependency>
      <groupId>com.lexicalscope.jewelcli</groupId>
      <artifactId>jewelcli</artifactId>
      <version>0.7.6</version>
    </dependency>
    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-nyc-tcip-api</artifactId>
      <version>2.2.1</version>
    </dependency>
    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-siri-api-v13</artifactId>
      <version>${onebusaway.siri.version}</version>
    </dependency>

    <dependency>
      <groupId>org.mockito</groupId>
      <artifactId>mockito-all</artifactId>
    </dependency>



    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-nyc-transit-data-federation</artifactId>
      <version>2.11.0-SNAPSHOT</version>
    </dependency>
    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-nyc-presentation</artifactId>
      <version>2.11.0-SNAPSHOT</version>
    </dependency>
    <dependency>
      <groupId>commons-collections</groupId>
      <artifactId>commons-collections</artifactId>
      <version>3.2</version>
    </dependency>
  </dependencies>

  <build>

    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-javadoc-plugin</artifactId>
      </plugin>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>exec-maven-plugin</artifactId>
        <version>1.2</version>
        <executions>
          <execution>
            <goals>
              <goal>java</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <mainClass>org.onebusaway.nyc.transit_data_manager.adapters.api.GenericConverter</mainClass>
        </configuration>
      </plugin>
      <plugin>
        <inherited>true</inherited>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <configuration>
          <source>1.5</source>
          <target>1.5</target>
        </configuration>
      </plugin>
    </plugins>
    <resources>
      <resource>
        <directory>src/main/resources</directory>
        <filtering>true</filtering>
      </resource>
    </resources>
  </build>

</project>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<groupId>org.play</groupId>
	<artifactId>play-parent</artifactId>
	<version>1.1</version>
	<packaging>pom</packaging>
	<name>Play's parent POM</name>

	<repositories>
		<!-- Repository containing Play! jars. If you have your own repo (ex: Nexus), 
			upload missing libs in third-parties -->
		<repository>
			<id>infin-it</id>
			<url>http://nexus.infin-it.fr/content/groups/public</url>
			<releases>
				<enabled>true</enabled>
			</releases>
			<snapshots>
				<enabled>false</enabled>
			</snapshots>
		</repository>
	</repositories>

	<properties>
		<play.version>1.1</play.version>
	</properties>

	<dependencyManagement>
		<dependencies>
			<dependency>
				<groupId>javax.activation</groupId>
				<artifactId>activation</artifactId>
				<version>1.1.1</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>antlr</groupId>
				<artifactId>antlr</artifactId>
				<version>2.7.6</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>com.ning</groupId>
				<artifactId>async-http-client</artifactId>
				<version>1.2.0</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>org.bouncycastle</groupId>
				<artifactId>bcprov-jdk15</artifactId>
				<version>1.45</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>c3p0</groupId>
				<artifactId>c3p0</artifactId>
				<version>0.9.1.2</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>cglib</groupId>
				<artifactId>cglib-nodep</artifactId>
				<version>2.2</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>commons-beanutils</groupId>
				<artifactId>commons-beanutils</artifactId>
				<version>1.8.3</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>commons-codec</groupId>
				<artifactId>commons-codec</artifactId>
				<version>1.4</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>commons-collections</groupId>
				<artifactId>commons-collections</artifactId>
				<version>3.1</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>org.apache.commons</groupId>
				<artifactId>commons-email</artifactId>
				<version>1.2</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>commons-fileupload</groupId>
				<artifactId>commons-fileupload</artifactId>
				<version>1.2</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>commons-io</groupId>
				<artifactId>commons-io</artifactId>
				<version>1.4</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>commons-lang</groupId>
				<artifactId>commons-lang</artifactId>
				<version>2.5</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>commons-logging</groupId>
				<artifactId>commons-logging</artifactId>
				<version>1.1.1</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>dom4j</groupId>
				<artifactId>dom4j</artifactId>
				<version>1.6.1</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>net.sf.ehcache</groupId>
				<artifactId>ehcache-core</artifactId>
				<version>2.0.0</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>net.sf.ezmorph</groupId>
				<artifactId>ezmorph</artifactId>
				<version>1.0.3</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>org.codehaus.groovy</groupId>
				<artifactId>groovy-all</artifactId>
				<version>1.7.1</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>com.google.code.gson</groupId>
				<artifactId>gson</artifactId>
				<version>1.4</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>org.hibernate</groupId>
				<artifactId>hibernate-core</artifactId>
				<version>3.5.6-Final</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>org.hibernate</groupId>
				<artifactId>hibernate-annotations</artifactId>
				<version>3.5.6-Final</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>org.hibernate</groupId>
				<artifactId>hibernate-commons-annotations</artifactId>
				<version>3.2.0.Final</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>org.hibernate</groupId>
				<artifactId>hibernate-entitymanager</artifactId>
				<version>3.5.6-Final</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>org.hibernate.javax.persistence</groupId>
				<artifactId>hibernate-jpa-2.0-api</artifactId>
				<version>1.0.0.Final</version>
				<scope>provided</scope>
			</dependency>
			<!-- This lib must be added to your repository (comes from Sourceforge) -->
			<dependency>
				<groupId>hsqldb</groupId>
				<artifactId>hsqldb</artifactId>
				<version>1.8.1.2</version>
				<scope>provided</scope>
			</dependency>
			<!-- This lib must be added to your repository (comes from Sourceforge) -->
			<dependency>
				<groupId>com.jamonapi</groupId>
				<artifactId>jamon</artifactId>
				<version>2.7</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>javax.mail</groupId>
				<artifactId>mail</artifactId>
				<version>1.4.3</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>javassist</groupId>
				<artifactId>javassist</artifactId>
				<version>3.9.0.GA</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>jaxen</groupId>
				<artifactId>jaxen</artifactId>
				<version>1.1</version>
				<scope>provided</scope>
			</dependency>
			<!-- This lib must be added to your repository -->
			<dependency>
				<groupId>org.play.jj</groupId>
				<artifactId>imaging</artifactId>
				<version>1.1</version>
				<scope>provided</scope>
			</dependency>
			<!-- This lib must be added to your repository -->
			<dependency>
				<groupId>org.play.jj</groupId>
				<artifactId>simple-captcha</artifactId>
				<version>1.1</version>
				<scope>provided</scope>
			</dependency>
			<!-- This lib must be added to your repository -->
			<dependency>
				<groupId>org.play.jj</groupId>
				<artifactId>textile</artifactId>
				<version>1.1</version>
				<scope>provided</scope>
			</dependency>
			<!-- This lib must be added to your repository -->
			<dependency>
				<groupId>org.play.jj</groupId>
				<artifactId>wikitext</artifactId>
				<version>1.1</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>joda-time</groupId>
				<artifactId>joda-time</artifactId>
				<version>1.6</version>
				<scope>provided</scope>
			</dependency>
			<!-- This lib must be added to your repository (comes from Sourceforge) -->
			<dependency>
				<groupId>jregex</groupId>
				<artifactId>jregex</artifactId>
				<version>1.2_01</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>net.sf.jsr107cache</groupId>
				<artifactId>jsr107cache</artifactId>
				<version>1.0</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>javax.transaction</groupId>
				<artifactId>jta</artifactId>
				<version>1.1</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>junit</groupId>
				<artifactId>junit</artifactId>
				<version>4.8.1</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>log4j</groupId>
				<artifactId>log4j</artifactId>
				<version>1.2.16</version>
				<scope>provided</scope>
			</dependency>
			<!-- This lib must be added to your repository -->
			<dependency>
				<groupId>net.spy</groupId>
				<artifactId>memcached</artifactId>
				<version>2.4.2</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>mysql</groupId>
				<artifactId>mysql-connector-java</artifactId>
				<version>5.1.13</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>org.jboss.netty</groupId>
				<artifactId>netty</artifactId>
				<version>3.2.2.Final</version>
				<scope>provided</scope>
			</dependency>
			<!-- This lib must be added to your repository -->
			<dependency>
				<groupId>org.play</groupId>
				<artifactId>org.eclipse.jdt.core</artifactId>
				<version>3.6.0</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>net.sf.oval</groupId>
				<artifactId>oval</artifactId>
				<version>1.50</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>org.apache.geronimo.specs</groupId>
				<artifactId>geronimo-servlet_2.5_spec</artifactId>
				<version>1.2</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>oauth.signpost</groupId>
				<artifactId>signpost-core</artifactId>
				<version>1.2</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>org.slf4j</groupId>
				<artifactId>slf4j-api</artifactId>
				<version>1.6.1</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>org.slf4j</groupId>
				<artifactId>slf4j-log4j12</artifactId>
				<version>1.6.1</version>
				<scope>provided</scope>
			</dependency>
			<dependency>
				<groupId>org.yaml</groupId>
				<artifactId>snakeyaml</artifactId>
				<version>1.6</version>
				<scope>provided</scope>
			</dependency>

			<!-- Play! framework dependency -->
			<dependency>
				<groupId>org.play</groupId>
				<artifactId>play</artifactId>
				<version>1.1</version>
			</dependency>

			<dependency>
				<groupId>org.play</groupId>
				<artifactId>play-runtime</artifactId>
				<version>1.1</version>
				<type>zip</type>
			</dependency>
		</dependencies>
	</dependencyManagement>


	<build>
		<sourceDirectory>app</sourceDirectory>
		<pluginManagement>
			<plugins>
				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-war-plugin</artifactId>
					<version>2.1.1</version>
					<configuration>
						<failOnMissingWebXml>false</failOnMissingWebXml>
					</configuration>
				</plugin>

				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-dependency-plugin</artifactId>
					<version>2.1</version>
					<executions>
						<execution>
							<id>default-cli</id>
							<configuration>
								<includeClassifiers>,sources</includeClassifiers>
								<outputDirectory>lib/</outputDirectory>
								<excludeScope>provided</excludeScope>
								<!-- To download sources jars without failing -->
								<failOnMissingClassifierArtifact>false</failOnMissingClassifierArtifact>
								<excludeArtifactIds>play-runtime,play</excludeArtifactIds>
							</configuration>
						</execution>
						<execution>
							<id>packaging</id>
							<phase>package</phase>
							<goals>
								<goal>copy-dependencies</goal>
							</goals>
							<configuration>
								<includeArtifactIds>play-runtime</includeArtifactIds>
							</configuration>
						</execution>
					</executions>
				</plugin>

				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-antrun-plugin</artifactId>
					<version>1.6</version>
					<executions>
						<execution>
							<phase>package</phase>
							<configuration>
								<target>
									<property name="maven.project.artifactId" value="${project.artifactId}" />
									<property name="maven.project.version" value="${project.version}" />
									<property name="maven.project.play-runtime" value="play-runtime-${play.version}" />

									<property name="play.runtime.path"
										value="${basedir}/target/dependency/${maven.project.play-runtime}" />
									<property name="play.runtime.file"
										value="${basedir}/target/dependency/${maven.project.play-runtime}.zip" />
									<property name="play.runtime.unzip.path" value="${basedir}/target/dependency" />

									<!-- Check zipped Play! runtime is present. Build fails if not present -->
									<available file="${play.runtime.file}" property="play.runtime.present" />
									<echo message="Is Play! runtime present : ${play.runtime.present}" />

									<fail
										message="Error : Play! runtime could not be found at : ${play.runtime.file}">
										<condition>
											<not>
												<isset property="play.runtime.present" />
											</not>
										</condition>
									</fail>

									<!-- Delete existing Play! runtime -->
									<echo message="Deleting any existing unzipped Play! runtime ..." />
									<delete dir="play.runtime.unzip.path" failonerror="false"
										verbose="true" />

									<!-- Unzip Play! runtime -->
									<echo message="Unzipping Play! runtime ..." />
									<unzip src="${play.runtime.file}" dest="${play.runtime.unzip.path}" />
									<echo message="Play! runtime unzipped successfully." />
									<chmod dir="${play.runtime.path}" perm="ugo+x" includes="play" />

									<!-- launch play mvn:up to retrieve libs in /lib folder -->
									<condition property="playExtension" value=".bat">
										<and>
											<os family="windows" />
										</and>
									</condition>
									<condition property="playExtension" value="">
										<and>
											<os family="unix" />
										</and>
									</condition>
									<exec
										executable="${play.runtime.unzip.path}/${maven.project.play-runtime}/play${playExtension}">
										<arg value="mvn:up" />
									</exec>

									<!-- Launch Play war command -->
									<condition property="playExtension" value=".bat">
										<and>
											<os family="windows" />
										</and>
									</condition>
									<condition property="playExtension" value="">
										<and>
											<os family="unix" />
										</and>
									</condition>
									<exec
										executable="${play.runtime.unzip.path}/${maven.project.play-runtime}/play${playExtension}">
										<arg value="war" />
										<arg value="${basedir}" />
										<arg value="-o" />
										<arg
											value="${basedir}/target/${maven.project.artifactId}-${maven.project.version}" />
										<arg value="--zip" />
									</exec>
								</target>
							</configuration>
							<goals>
								<goal>run</goal>
							</goals>
						</execution>
					</executions>
				</plugin>

				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-clean-plugin</artifactId>
					<version>2.4.1</version>
					<configuration>
						<filesets>
							<fileset>
								<directory>${project.basedir}/lib</directory>
								<includes>
									<include>**/*.jar</include>
									<include>**/*.zip</include>
								</includes>
								<followSymlinks>false</followSymlinks>
							</fileset>
						</filesets>
					</configuration>
				</plugin>

				<plugin>
					<groupId>org.apache.maven.plugins</groupId>
					<artifactId>maven-compiler-plugin</artifactId>
					<version>2.3.1</version>
					<configuration>
						<source>1.5</source>
						<target>1.5</target>
					</configuration>
				</plugin>

			</plugins>
		</pluginManagement>

	</build>

</project>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  
  <parent>
    <groupId>org.play</groupId>
    <artifactId>play-parent</artifactId>
    <version>1.1</version>
  </parent>

  <groupId>my.group.Id</groupId>
  <artifactId>myartifactid</artifactId>
  <version>0.0.1-SNAPSHOT</version>
  <name>My Artifact Name</name>
  <description>My Artifact Description</description>

  <dependencies>
  <!-- Add your dependencies here
    <dependency>
      <groupId></groupId>
      <artifactId></artifactId>
      <version></version>
    </dependency>
   -->
  </dependencies>
  
  <build>
    <plugins>
      <plugin>
        <artifactId>maven-clean-plugin</artifactId>
      </plugin>
      <!-- Keeping this order is very important for packaging phase (copy-dependency must run before antrun) -->
      <plugin>
        <artifactId>maven-dependency-plugin</artifactId>
      </plugin>
      <plugin>
        <artifactId>maven-antrun-plugin</artifactId>
      </plugin>
    <!-- End -->
    </plugins>
  </build>

</project>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  
  <parent>
    <groupId>org.play</groupId>
    <artifactId>play-parent</artifactId>
    <version>1.1</version>
  </parent>

  <groupId>my.group.Id</groupId>
  <artifactId>myartifactid</artifactId>
  <version>0.0.1-SNAPSHOT</version>
  <name>My Artifact Name</name>
  <description>My Artifact Description</description>

  <dependencies>
    <dependency>
      <groupId>org.hibernate</groupId>
      <artifactId>hibernate-validator</artifactId>
      <version>4.1.0.Final</version>
    </dependency>
  </dependencies>
  
  <build>
    <plugins>
      <plugin>
        <artifactId>maven-clean-plugin</artifactId>
      </plugin>
      <!-- Keeping this order is very important for packaging phase (copy-dependency must run before antrun) -->
      <plugin>
        <artifactId>maven-dependency-plugin</artifactId>
      </plugin>
      <plugin>
        <artifactId>maven-antrun-plugin</artifactId>
      </plugin>
    <!-- End -->
    </plugins>
  </build>

</project>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  
  <parent>
    <groupId>org.play</groupId>
    <artifactId>play-parent</artifactId>
    <version>1.1</version>
  </parent>

  <groupId>org.onebusaway</groupId>
  <artifactId>onebusaway-nyc-tdm-util</artifactId>
  <version>0.0.2</version>
  <name>TDM utility app</name>
  <description>TDM utility app</description>

  <repositories>
    <repository>
      <id>camsys-cache</id>
      <url>http://svn2.camsys.com/archiva/repository/internal/</url>
      <releases>
	<enabled>true</enabled>
      </releases>
      <snapshots>
	<enabled>true</enabled>
      </snapshots>
    </repository>
    <repository>
      <id>caucho</id>
      <url>http://caucho.com/m2</url>
      <releases>
        <enabled>true</enabled>
      </releases>
      <snapshots>
        <enabled>true</enabled>
      </snapshots>
    </repository>
    <repository>
      <id>ssj</id>
      <url>http://maven.iscpif.fr/public</url>
      <releases>
        <enabled>true</enabled>
      </releases>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
    </repository>
  </repositories>

  <dependencies>
    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-siri-api-v13</artifactId>
      <version>1.0.0</version>
    </dependency>
    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-nyc-transit-data-federation</artifactId>
      <version>2.0.11</version>
    </dependency>
    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-transit-data-federation</artifactId>
      <version>2.0.11</version>
    </dependency>
    <dependency>
      <groupId>org.onebusaway</groupId>
      <artifactId>onebusaway-nyc-transit-data</artifactId>
      <version>2.0.11</version>
    </dependency>  
    <dependency>
      <groupId>com.sun.jersey</groupId>
      <artifactId>jersey-bundle</artifactId>
      <version>1.10</version>
    </dependency>
    <dependency>
      <groupId>javax.ws.rs</groupId>
      <artifactId>jsr311-api</artifactId>
      <version>1.1.1</version>
    </dependency>
  </dependencies>

  <profiles>
    <profile>
      <id>local-single-port</id><!-- aka services-tdf-as-tds --> <!-- aka staging, production -->
      <activation>
        <activeByDefault>true</activeByDefault>
      </activation>
      <properties>
        <tds.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</tds.path>
        <vtms.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</vtms.path>
        <config.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</config.path>
        <archive.path>http://localhost:8080/onebusaway-nyc-report-archive</archive.path>
        <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
        <tdm.host>tdm.dev.obanyc.com</tdm.host>
        <webapp.api.url></webapp.api.url>
        <log4j.appender>stdout</log4j.appender>
        <front-end-version>${front-end.version}</front-end-version>
      </properties>
    </profile>
  </profiles>
  
  <build>
    <resources>
      <resource>
	<directory>src/main/resources</directory>
	<filtering>true</filtering>
      </resource>
    </resources>
    <plugins>
      <plugin>
        <artifactId>maven-clean-plugin</artifactId>
      </plugin>
      <!-- Keeping this order is very important for packaging phase (copy-dependency must run before antrun) -->
      <plugin>
        <artifactId>maven-dependency-plugin</artifactId>
      </plugin>
      <plugin>
        <artifactId>maven-antrun-plugin</artifactId>
      </plugin>
    <!-- End -->
    </plugins>
  </build>

</project>
<?xml version="1.0"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <artifactId>onebusaway-nyc</artifactId>
        <groupId>org.onebusaway</groupId>
        <version>2.11.0-SNAPSHOT</version>
    </parent>
    <groupId>org.onebusaway</groupId>
    <artifactId>onebusaway-nyc-tdm-webapp</artifactId>
    <version>2.11.0-SNAPSHOT</version>
    <name>onebusaway-nyc-tdm-webapp</name>
    <description>TDM API</description>
    <packaging>war</packaging>

    <properties>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    <!--  The url to encode for stop id barcodes. Make sure this is all uppercase to allow the barcodes to be lower resolution. -->
        <qrBarcodes.stopIdReplaceUrl>HTTP://BT.MTA.INFO/S/__REPLACE__</qrBarcodes.stopIdReplaceUrl>
    </properties>
    <dependencies>
        <dependency>
          <groupId>junit</groupId>
          <artifactId>junit</artifactId>
          <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>com.sun.jersey</groupId>
            <artifactId>jersey-server</artifactId>
            <version>1.9.1</version>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-tdm-adapters</artifactId>
            <version>2.11.0-SNAPSHOT</version>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-tcip-api</artifactId>
            <version>2.2.1</version>
        </dependency>
        <dependency>
            <groupId>com.sun.jersey.contribs</groupId>
            <artifactId>jersey-spring</artifactId>
            <version>1.9.1</version>
        </dependency>

        <dependency>
            <groupId>org.hsqldb</groupId>
            <artifactId>hsqldb</artifactId>
            <version>2.0.0</version>
        </dependency>

        <dependency>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
            <version>5.1.17</version>
        </dependency>
        <dependency>
            <groupId>org.codehaus.jackson</groupId>
            <artifactId>jackson-mapper-asl</artifactId>
            <version>1.9.2</version>
        </dependency>
        <dependency>
            <groupId>org.codehaus.jackson</groupId>
            <artifactId>jackson-jaxrs</artifactId>
            <version>1.9.2</version>
        </dependency>
        <!-- RMI-like service for wiring up services between VMs -->
        <dependency>
            <groupId>com.caucho</groupId>
            <artifactId>resin-hessian</artifactId>
	        <version>3.1.6</version>
        </dependency>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>apache-log4j-extras</artifactId>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-siri-api-v13</artifactId>
            <version>${onebusaway.siri.version}</version>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-transit-data-federation</artifactId>
            <version>2.11.0-SNAPSHOT</version>
        </dependency>
        <dependency>
            <groupId>org.mockito</groupId>
            <artifactId>mockito-all</artifactId>
        </dependency>
        <dependency>
          <groupId>quartz</groupId>
          <artifactId>quartz</artifactId>
          <version>1.5.2</version>
        </dependency>
        <!--  for qr code generation -->
            <dependency>
				<groupId>com.google.zxing</groupId>
				<artifactId>core</artifactId>
				<version>2.2</version>
			</dependency>
        
    	<!--  s3 integration -->
    	<dependency>
      		<groupId>com.amazonaws</groupId>
      		<artifactId>aws-java-sdk</artifactId>
      		<version>1.3.9</version>
      		<exclusions>
        		<exclusion>
          			<groupId>org.codehaus.jackson</groupId>
          			<artifactId>jackson-core-asl</artifactId>
        		</exclusion>
        		<exclusion>
          			<groupId>org.codehaus.jackson</groupId>
          			<artifactId>jackson-mapper-asl</artifactId>
        		</exclusion>
      		</exclusions>
    	</dependency>
        <dependency>
          <groupId>commons-logging</groupId>
          <artifactId>commons-logging</artifactId>
          <version>1.1.1</version>
        </dependency>
        <dependency>
      		<groupId>javax.servlet</groupId>
      		<artifactId>servlet-api</artifactId>
      		<version>2.4</version>
      		<scope>provided</scope>
    	</dependency>      
    </dependencies>
    <profiles>
        <profile>
            <id>default-paths</id>
            <properties>
                <tdm.home>/var/lib/obanyc/tdm</tdm.home>
                <tdm.dataPath>/mnt/data/tdm_input/upload/mta</tdm.dataPath>
                <tdm.crewAssignsUploadDir>${tdm.dataPath}/crew_assign</tdm.crewAssignsUploadDir> <!-- See UtsCrewUploadsFilePicker for usage of this. -->
                <tdm.depotAssignsDownloadDir>${tdm.dataPath}/depot_assigns</tdm.depotAssignsDownloadDir> <!-- See DepotAssignmentsSoapDownloadsFilePicker for usage of this. -->
                <tdm.dscFilesDir>${tdm.dataPath}/dsc</tdm.dscFilesDir> <!-- See DscManualUploadDateTimestampFilePicker for usage of this. -->
                <tdm.pipoFilename>/vehicle_pipo/UTSPUPUFULL.txt</tdm.pipoFilename>
                <tdm.prettyPrintOutput>false</tdm.prettyPrintOutput>
                <tdm.config.configXmlFile>/var/lib/obanyc/tdm-config/tdm_config.xml</tdm.config.configXmlFile>
                <tdm.depotIdTranslationConfigFile>${tdm.home}/depot_ids.csv</tdm.depotIdTranslationConfigFile>
                <tdm.bundlePath>/var/lib/obanyc/bundleservice/activebundles</tdm.bundlePath>
                <tdm.vehiclepipoUploadDir>${tdm.dataPath}/vehicle_pipo</tdm.vehiclepipoUploadDir>
            </properties>
        </profile>
        <profile>
            <id>local-paths</id>
            <properties>
            	<!-- Use this profile for testing api calls locally -->
                <tdm.dataPath>/mnt/tdm_data</tdm.dataPath>
                <tdm.home>/mnt</tdm.home>
                <tdm.crewAssignsUploadDir>${tdm.dataPath}/crew_assign</tdm.crewAssignsUploadDir> <!-- See UtsCrewUploadsFilePicker for usage of this. -->
                <tdm.depotAssignsDownloadDir>${tdm.dataPath}/depot_assigns</tdm.depotAssignsDownloadDir> <!-- See DepotAssignmentsSoapDownloadsFilePicker for usage of this. -->
                <tdm.dscFilesDir>${tdm.dataPath}/dsc</tdm.dscFilesDir> <!-- See DscManualUploadDateTimestampFilePicker for usage of this. -->
                <tdm.pipoFilename>UTSPUPUFULL.txt</tdm.pipoFilename>
                <tdm.prettyPrintOutput>true</tdm.prettyPrintOutput>
                <tdm.config.configXmlFile>${tdm.dataPath}/tdm_config.xml</tdm.config.configXmlFile>
                <tdm.bundlePath>/tmp/bundles</tdm.bundlePath>
                <tdm.depotIdTranslationConfigFile>/mnt/depot_ids.csv</tdm.depotIdTranslationConfigFile>
                <tdm.vehiclepipoUploadDir>${tdm.dataPath}/vehicle_pipo</tdm.vehiclepipoUploadDir>
                <bundle.location>/tmp/oba-bundle-tdm</bundle.location>
                <bundle.mode.standalone>true</bundle.mode.standalone>
                <log4j.appender>stdout</log4j.appender>
                <tds.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
                <vtms.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
                <config.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
                <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <tdm.port>80</tdm.port>
                <tdm.url>/api/</tdm.url>
            </properties>
        </profile>
        <profile>
            <id>local-paths-windows</id>
            <properties>
                <tdm.dataPath>D:\tmp</tdm.dataPath>
                <tdm.home>/var/lib/obanyc/tdm</tdm.home>
                <tdm.crewAssignsUploadDir>${tdm.dataPath}\crew_assign</tdm.crewAssignsUploadDir> <!-- See UtsCrewUploadsFilePicker for usage of this. -->
                <tdm.depotAssignsDownloadDir>${tdm.dataPath}\depot_assigns</tdm.depotAssignsDownloadDir> <!-- See DepotAssignmentsSoapDownloadsFilePicker for usage of this. -->
                <tdm.dscFilesDir>${tdm.dataPath}\dsc</tdm.dscFilesDir> <!-- See DscManualUploadDateTimestampFilePicker for usage of this. -->
                <tdm.pipoFilename>CrewAssignSample.csv</tdm.pipoFilename>
                <tdm.prettyPrintOutput>true</tdm.prettyPrintOutput>
                <tdm.config.configXmlFile>d:\shared\testconfigfile.xml</tdm.config.configXmlFile>
                <tdm.depotIdTranslationConfigFile />
                <tdm.bundlePath>D:\tmp\bundles</tdm.bundlePath>
                <tdm.vehiclepipoUploadDir>${tdm.dataPath}\vehicle_pipo</tdm.vehiclepipoUploadDir>
            </properties>
        </profile>
        <profile>
            <id>cloud</id> <!-- aka staging, production -->
            <activation>
                <activeByDefault>true</activeByDefault>
            </activation>
            <properties> <!-- sms hostname assumes search is defined in /etc/resolv.conf -->
                <tds.path>http://sms:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
                <vtms.path>http://sms:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
                <config.path>http://sms:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
                <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
                <tdm.host>localhost</tdm.host>
                <tdm.port>80</tdm.port>
                <tdm.url>/api/</tdm.url>
                <webapp.api.url />
                <tdm.dataPath>/mnt/data/tdm_input/upload/mta</tdm.dataPath>
                <tdm.home>/var/lib/obanyc/tdm</tdm.home>
                <tdm.crewAssignsUploadDir>${tdm.dataPath}/crew_assign</tdm.crewAssignsUploadDir> <!-- See UtsCrewUploadsFilePicker for usage of this. -->
                <tdm.depotAssignsDownloadDir>${tdm.dataPath}/depot_assigns</tdm.depotAssignsDownloadDir> <!-- See DepotAssignmentsSoapDownloadsFilePicker for usage of this. -->
                <tdm.dscFilesDir>${tdm.dataPath}/dsc</tdm.dscFilesDir> <!-- See DscManualUploadDateTimestampFilePicker for usage of this. -->
                <tdm.pipoFilename>/vehicle_pipo/UTSPUPUFULL.txt</tdm.pipoFilename>
                <tdm.prettyPrintOutput>false</tdm.prettyPrintOutput>
                <tdm.config.configXmlFile>/var/lib/obanyc/tdm-config/tdm_config.xml</tdm.config.configXmlFile>
                <tdm.depotIdTranslationConfigFile>${tdm.home}/depot_ids.csv</tdm.depotIdTranslationConfigFile>
                <tdm.bundlePath>/mnt/obanyc/bundleservice/activebundles</tdm.bundlePath>
                <tdm.vehiclepipoUploadDir>${tdm.dataPath}/vehicle_pipo</tdm.vehiclepipoUploadDir>
                <bundle.location>/mnt/obanyc/oba-bundle-tdm</bundle.location>
                <bundle.mode.standalone>true</bundle.mode.standalone>
                <log4j.appender>ROLL</log4j.appender>
            </properties>
        </profile>
        <profile>
            <id>local-bundle</id>
            <properties> <!-- sms hostname assumes search is defined in /etc/resolv.conf -->
                <tds.path>http://sms:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
                <vtms.path>http://sms:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
                <config.path>http://sms:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
                <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
                <tdm.host>localhost</tdm.host>
                <tdm.port>8080</tdm.port>
                <tdm.url>/onebusaway-nyc-tdm-webapp/api/</tdm.url>
                <webapp.api.url />
                <tdm.dataPath>/var/lib/obanyc/tdm_input/upload/mta</tdm.dataPath>
                <tdm.home>/var/lib/obanyc/tdm</tdm.home>
                <tdm.crewAssignsUploadDir>${tdm.dataPath}/crew_assign</tdm.crewAssignsUploadDir> <!-- See UtsCrewUploadsFilePicker for usage of this. -->
                <tdm.depotAssignsDownloadDir>${tdm.dataPath}/depot_assigns</tdm.depotAssignsDownloadDir> <!-- See DepotAssignmentsSoapDownloadsFilePicker for usage of this. -->
                <tdm.dscFilesDir>${tdm.dataPath}/dsc</tdm.dscFilesDir> <!-- See DscManualUploadDateTimestampFilePicker for usage of this. -->
                <tdm.pipoFilename>/vehicle_pipo/UTSPUPUFULL.txt</tdm.pipoFilename>
                <tdm.prettyPrintOutput>false</tdm.prettyPrintOutput>
                <tdm.config.configXmlFile>/var/lib/obanyc/tdm-config/tdm_config.xml</tdm.config.configXmlFile>
                <tdm.depotIdTranslationConfigFile>${tdm.home}/depot_ids.csv</tdm.depotIdTranslationConfigFile>
                <tdm.bundlePath>/var/lib/obanyc/bundleservice/activebundles</tdm.bundlePath>
                <tdm.vehiclepipoUploadDir>${tdm.dataPath}/vehicle_pipo</tdm.vehiclepipoUploadDir>
                <bundle.location>/tmp/oba-bundle-tdm</bundle.location>
                <bundle.mode.standalone>true</bundle.mode.standalone>
                <log4j.appender>ROLL</log4j.appender>
            </properties>
        </profile>
        <profile>
            <id>local-bundle-eclipse</id>
            <properties> <!-- sms hostname assumes search is defined in /etc/resolv.conf -->
                <tds.path>http://sms:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
                <vtms.path>http://sms:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
                <config.path>http://sms:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
                <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
                <tdm.host>localhost</tdm.host>
                <tdm.port>8080</tdm.port>
                <tdm.url>/onebusaway-nyc-tdm-webapp/api/</tdm.url>
                <webapp.api.url />
                <tdm.dataPath>/var/lib/obanyc/tdm_input/upload/mta</tdm.dataPath>
                <tdm.home>/var/lib/obanyc/tdm</tdm.home>
                <tdm.crewAssignsUploadDir>${tdm.dataPath}/crew_assign</tdm.crewAssignsUploadDir> <!-- See UtsCrewUploadsFilePicker for usage of this. -->
                <tdm.depotAssignsDownloadDir>${tdm.dataPath}/depot_assigns</tdm.depotAssignsDownloadDir> <!-- See DepotAssignmentsSoapDownloadsFilePicker for usage of this. -->
                <tdm.dscFilesDir>${tdm.dataPath}/dsc</tdm.dscFilesDir> <!-- See DscManualUploadDateTimestampFilePicker for usage of this. -->
                <tdm.pipoFilename>/vehicle_pipo/UTSPUPUFULL.txt</tdm.pipoFilename>
                <tdm.prettyPrintOutput>false</tdm.prettyPrintOutput>
                <tdm.config.configXmlFile>/var/lib/obanyc/tdm-config/tdm_config.xml</tdm.config.configXmlFile>
                <tdm.depotIdTranslationConfigFile>${tdm.home}/depot_ids.csv</tdm.depotIdTranslationConfigFile>
                <tdm.bundlePath>/var/lib/obanyc/bundleservice/activebundles-eclipse</tdm.bundlePath>
                <tdm.vehiclepipoUploadDir>${tdm.dataPath}/vehicle_pipo</tdm.vehiclepipoUploadDir>
                <bundle.location>/tmp/oba-bundle-tdm-eclipse</bundle.location>
                <bundle.mode.standalone>true</bundle.mode.standalone>
                <log4j.appender>ROLL</log4j.appender>
            </properties>
        </profile>
        <profile>
            <id>local-front-end</id> <!-- aka staging, production -->
            <properties> <!-- sms hostname assumes search is defined in /etc/resolv.conf -->
                <tds.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
                <vtms.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
                <config.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
                <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <tdm.port>80</tdm.port>
                <tdm.url>/api/</tdm.url>
                <webapp.api.url />
                <log4j.appender>stdout</log4j.appender>
            </properties>
        </profile>
        <profile>
            <id>local-single-port</id> <!-- aka services-tdf-as-tds -->
            <properties> <!-- sms hostname assumes search is defined in /etc/resolv.conf -->
                <tds.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
                <vtms.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
                <config.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
                <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <tdm.port>8080</tdm.port>
                <tdm.url>/api/</tdm.url>
                <webapp.api.url />
                <log4j.appender>stdout</log4j.appender>
                
                <tdm.dataPath>/var/lib/obanyc/tdm-datapath</tdm.dataPath>
                <tdm.home>/var/lib/obanyc/tdm</tdm.home>
                <tdm.crewAssignsUploadDir>${tdm.dataPath}/crew_assign</tdm.crewAssignsUploadDir> <!-- See UtsCrewUploadsFilePicker for usage of this. -->
                <tdm.depotAssignsDownloadDir>${tdm.dataPath}/depot_assigns</tdm.depotAssignsDownloadDir> <!-- See DepotAssignmentsSoapDownloadsFilePicker for usage of this. -->
                <tdm.dscFilesDir>${tdm.dataPath}/dsc</tdm.dscFilesDir> <!-- See DscManualUploadDateTimestampFilePicker for usage of this. -->
                <tdm.pipoFilename>/vehicle_pipo/UTSPUPUFULL.txt</tdm.pipoFilename>
                <tdm.prettyPrintOutput>false</tdm.prettyPrintOutput>
                <tdm.config.configXmlFile>/var/lib/obanyc/tdm-config/tdm_config.xml</tdm.config.configXmlFile>
                <tdm.depotIdTranslationConfigFile>${tdm.home}/depot_ids.csv</tdm.depotIdTranslationConfigFile>
                <tdm.bundlePath>/tmp/oba-bundle</tdm.bundlePath>
                <tdm.vehiclepipoUploadDir>${tdm.dataPath}/vehicle_pipo</tdm.vehiclepipoUploadDir>
                <bundle.location>/tmp/oba-bundle-tdm</bundle.location>
                <bundle.mode.standalone>true</bundle.mode.standalone>

            </properties>
        </profile>
        <profile>
            <id>local-ie</id><!-- services-vtw-as-tds --> <!-- single port, aka development -->
            <properties>
                <tds.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</tds.path>
                <vtms.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</vtms.path>
                <config.path>http://localhost:8080/onebusaway-nyc-vehicle-tracking-webapp</config.path>
                <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
                <webapp.api.url>http://localhost:8080</webapp.api.url>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
<!--                 <tdm.host></tdm.host> -->
                <tdm.port>80</tdm.port>
                <tdm.url>/api/</tdm.url>
                <log4j.appender>stdout</log4j.appender>
            </properties>
        </profile>
        <profile>
      <!-- Vehicle tracking webapp offers the TDS -->
            <id>local-multi-port</id> <!-- services-vtw-as-tds --> <!-- single port, aka development -->
            <properties>
                <tds.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</tds.path>
                <vtms.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</vtms.path>
                <config.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</config.path>
                <service.wikihost>xwiki.staging.obanyc.com</service.wikihost>
                <webapp.api.url>http://localhost:8080</webapp.api.url>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <tdm.port>80</tdm.port>
                <tdm.url>/api/</tdm.url>
                <log4j.appender>stdout</log4j.appender>
            </properties>
        </profile>
    </profiles>

    <build>
        <finalName>onebusaway-nyc-tdm-webapp</finalName>
        <plugins>
			<plugin>
				<groupId>pl.project13.maven</groupId>
				<artifactId>git-commit-id-plugin</artifactId>
				<version>2.1.2</version>
				<executions>
					<execution>
						<goals>
							<goal>revision</goal>
						</goals>
					</execution>
				</executions>
				<configuration>
					<prefix>git</prefix>
					<dateFormat>dd.MM.yyyy '@' HH:mm:ss z</dateFormat>
					<verbose>true</verbose>
					<skipPoms>false</skipPoms>
					<generateGitPropertiesFile>false</generateGitPropertiesFile>
					<generateGitPropertiesFilename>src/main/resources/git.properties</generateGitPropertiesFilename>
					<gitDescribe>
						<skip>false</skip>
						<always>true</always>
						<abbrev>7</abbrev>
						<dirty>-dirty</dirty>
						<forceLongFormat>false</forceLongFormat>
					</gitDescribe>
				</configuration>
			</plugin>
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>hibernate3-maven-plugin</artifactId>
                <version>2.2</version>
                <configuration>
                    <components>
                        <component>
                            <name>hbm2ddl</name>
                            <implementation>annotationconfiguration</implementation>
                        </component>
                        <component>
                            <name>hbm2hbmxml</name>
                            <outputDirectory>src/main/resources</outputDirectory>
                        </component>
                    </components>
                    <componentProperties>
                        <drop>true</drop>
                        <configurationfile>hibernate.cfg.xml</configurationfile>
                    </componentProperties>
                </configuration>
                <dependencies>
          <!-- TODO Remove this now? -->
                    <dependency>
                        <groupId>mysql</groupId>
                        <artifactId>mysql-connector-java</artifactId>
                        <version>5.1.17</version>
                    </dependency>
          <!-- <dependency> <groupId>org.hsqldb</groupId> <artifactId>hsqldb</artifactId> 
            <version>2.0.0</version> </dependency> -->
                </dependencies>
            </plugin>

            <plugin>
                <groupId>org.mortbay.jetty</groupId>
                <artifactId>maven-jetty-plugin</artifactId>
                <version>6.1.26</version>
                <configuration>
                    <connectors>
                        <connector implementation="org.mortbay.jetty.nio.SelectChannelConnector">
                            <port>8083</port>
                        </connector>
                    </connectors>
                    <webAppConfig>
                        <contextPath>/</contextPath>
                    </webAppConfig>

                </configuration>
            </plugin>
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>exec-maven-plugin</artifactId>
                <version>1.2.1</version>
                <executions>
                    <execution>
                        <goals>
                            <goal>java</goal>
                        </goals>
                    </execution>
                </executions>
                <configuration>
                    <mainClass>org.onebusaway.nyc.transit_data_manager.api.HelloWorld</mainClass>
                </configuration>
            </plugin>

            <plugin>
                <artifactId>maven-assembly-plugin</artifactId>
                <version>2.2.1</version>
                <configuration>
                    <appendAssemblyId>false</appendAssemblyId>
                    <descriptors>
                        <descriptor>src/resources/assembly.xml</descriptor>
                    </descriptors>
                </configuration>
            </plugin>
            
        </plugins>

        <resources>
            <resource>
                <directory>src/main/resources</directory>
                <filtering>true</filtering>
            </resource>
            <resource>
                <directory>src/test/resources</directory>
                <filtering>true</filtering>
            </resource>
        </resources>

        <pluginManagement>
        	<plugins>
        		<!--This plugin's configuration is used to store Eclipse m2e settings only. It has no influence on the Maven build itself.-->
        		<plugin>
        			<groupId>org.eclipse.m2e</groupId>
        			<artifactId>lifecycle-mapping</artifactId>
        			<version>1.0.0</version>
        			<configuration>
        				<lifecycleMappingMetadata>
        					<pluginExecutions>
        						<pluginExecution>
        							<pluginExecutionFilter>
        								<groupId>
        									pl.project13.maven
        								</groupId>
        								<artifactId>
        									git-commit-id-plugin
        								</artifactId>
        								<versionRange>
        									[2.1.2,)
        								</versionRange>
        								<goals>
        									<goal>revision</goal>
        								</goals>
        							</pluginExecutionFilter>
        							<action>
									<execute>
											<runOnIncremental>true</runOnIncremental>
											<runOnConfiguration>true</runOnConfiguration>
									</execute>
        							</action>
        						</pluginExecution>
        					</pluginExecutions>
        				</lifecycleMappingMetadata>
        			</configuration>
        		</plugin>
        	</plugins>
        </pluginManagement>
    </build>
</project>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>org.onebusaway</groupId>
        <artifactId>onebusaway-nyc</artifactId>
        <version>2.11.0-SNAPSHOT</version>
    </parent>
    <groupId>org.onebusaway</groupId>
    <artifactId>onebusaway-nyc-transit-data-federation-webapp</artifactId>
    <packaging>war</packaging>

    <name>onebusaway-nyc-transit-data-federation-webapp</name>

    <dependencies>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-transit-data-federation</artifactId>
            <version>2.11.0-SNAPSHOT</version>
        </dependency>

        <!-- RMI-like service for wiring up services between VMs -->
        <dependency>
            <groupId>com.caucho</groupId>
            <artifactId>resin-hessian</artifactId>
	        <version>3.1.6</version>
        </dependency>

        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>apache-log4j-extras</artifactId>
        </dependency>

        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-webmvc</artifactId>
        </dependency>

        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>servlet-api</artifactId>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>jsp-api</artifactId>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>jstl</artifactId>
        </dependency>
        <dependency>
            <groupId>taglibs</groupId>
            <artifactId>standard</artifactId>
        </dependency>

        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <scope>test</scope>
        </dependency>
	<!-- for amazon deployment -->
        <dependency>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
            <version>5.1.17</version>
        </dependency>
        <dependency>
          <groupId>org.onebusaway</groupId>
          <artifactId>onebusaway-nyc-tdm-adapters</artifactId>
          <version>2.11.0-SNAPSHOT</version>
        </dependency>
    </dependencies>

    <profiles>
        <!--  bundle location profiles -->
        <profile>
            <id>cloud</id>
            <activation>
              <activeByDefault>true</activeByDefault>
            </activation>
            <properties>
                <bundle.location>/mnt/obanyc/oba-bundle</bundle.location>
                <bundle.mode.standalone>false</bundle.mode.standalone>
                <tdm.host>tdm</tdm.host><!-- assumes domain is set in resolv.conf -->
                <service.alerts.url>http://tdm/siri/situation-exchange</service.alerts.url>
                <service.alerts.subscription.path>:8080/onebusaway-nyc-transit-data-federation-webapp/siri/situation-exchange</service.alerts.subscription.path>
                <log4j.appender>ROLL</log4j.appender>
            </properties>
        </profile>
        <profile>
            <id>local-front-end</id>
            <properties>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <bundle.location>/tmp/oba-bundle</bundle.location>
                <bundle.mode.standalone>false</bundle.mode.standalone>
                <log4j.appender>stdout</log4j.appender>
                <service.alerts.url>http://tdm.dev.obanyc.com/siri/situation-exchange</service.alerts.url>
                <service.alerts.subscription.path>/onebusaway-nyc-vehicle-tracking-webapp/siri/situation-exchange</service.alerts.subscription.path>
            </properties>
        </profile>
        <profile>
            <!-- don't run both the vtw and the tdf in the same instance -->
            <id>local-single-port</id>
            <properties>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <bundle.location>/tmp/oba-bundle</bundle.location>
                <bundle.mode.standalone>false</bundle.mode.standalone>
<!--
                <service.alerts.url>http://localhost:8080/siri/situation-exchange</service.alerts.url>
                <service.alerts.subscription.path>:8080/onebusaway-nyc-vehicle-tracking-webapp/siri/situation-exchange</service.alerts.subscription.path>
-->
                <service.alerts.url>http://tdm.dev.obanyc.com/siri/situation-exchange</service.alerts.url>
                <service.alerts.subscription.path>/onebusaway-nyc-transit-data-federation-webapp/siri/situation-exchange</service.alerts.subscription.path>
                <log4j.appender>stdout</log4j.appender>
            </properties>
        </profile>
        <profile>
            <id>local-ie-testing</id>
            <properties>
                <tdm.host />
<!--                 <tdm.host>tdm.dev.obanyc.com</tdm.host> -->
                <bundle.location>/var/lib/obanyc/oba-bundle</bundle.location>
                <bundle.mode.standalone>true</bundle.mode.standalone>
                <service.alerts.url />
                <service.alerts.subscription.path />
                <log4j.appender>stdout</log4j.appender>
            </properties>
        </profile>
        <profile>
            <id>local-ie</id>
            <properties>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <bundle.location>/tmp/oba-bundle</bundle.location>
                <bundle.mode.standalone>true</bundle.mode.standalone>
                <log4j.appender>stdout</log4j.appender>
                <service.alerts.url>http://tdm.dev.obanyc.com/siri/situation-exchange</service.alerts.url>
                <service.alerts.subscription.path>/onebusaway-nyc-transit-data-federation-webapp/siri/situation-exchange</service.alerts.subscription.path>
            </properties>
        </profile>
        <profile>
            <id>local-multi-port</id>
            <properties>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <bundle.location>/tmp/oba-bundle</bundle.location>
                <bundle.mode.standalone>true</bundle.mode.standalone>
                <service.alerts.url>http://localhost:8083/siri/situation-exchange</service.alerts.url>
                <service.alerts.subscription.path>:8081/onebusaway-nyc-vehicle-tracking-webapp/siri/situation-exchange</service.alerts.subscription.path>
                <log4j.appender>stdout</log4j.appender>
            </properties>
        </profile>
    </profiles>

    <build>
        <finalName>onebusaway-nyc-transit-data-federation-webapp</finalName>
        <resources>
            <resource>
                <directory>src/main/resources</directory>
                <filtering>true</filtering>
            </resource>
        </resources>
    </build>

</project>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <artifactId>onebusaway-nyc</artifactId>
        <groupId>org.onebusaway</groupId>
        <version>2.11.0-SNAPSHOT</version>
    </parent>
    <artifactId>onebusaway-nyc-transit-data-federation</artifactId>
    <packaging>jar</packaging>

    <name>onebusaway-nyc-transit-data-federation</name>

    <dependencies>

        <!-- OneBusAway Dependencies -->
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-transit-data-federation</artifactId>
            <version>${onebusaway.app-modules.version}</version>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-gtfs-hibernate-spring</artifactId>
            <version>${onebusaway.app-modules.version}</version>
        </dependency>
        <dependency>
      	    <groupId>com.google.protobuf</groupId>
      	    <artifactId>protobuf-java</artifactId>
      	    <version>2.4.0a</version>
    	</dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-transit-data</artifactId>
            <version>2.11.0-SNAPSHOT</version>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-tcip-api</artifactId>
            <version>2.2.1</version>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-queue-subscriber</artifactId>
            <version>2.11.0-SNAPSHOT</version>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-csv-entities</artifactId>
        </dependency>
        <dependency>
            <groupId>com.google.code.gson</groupId>
            <artifactId>gson</artifactId>
            <version>1.7.1</version>
            <type>jar</type>
            <scope>compile</scope>
        </dependency>
        <dependency>
          <groupId>com.google.guava</groupId>
          <artifactId>guava</artifactId>
          <version>14.0.1</version>
        </dependency>
		<dependency>
			<groupId>joda-time</groupId>
			<artifactId>joda-time</artifactId>
			<version>2.0</version>
		</dependency>        
        <dependency>
            <groupId>org.zeromq</groupId>
            <artifactId>jzmq</artifactId>
            <version>053c2d7</version>
            <type>jar</type>
            <scope>compile</scope>
        </dependency>
        <dependency>
            <groupId>org.codehaus.jackson</groupId>
            <artifactId>jackson-xc</artifactId>
            <version>1.9.2</version>
        </dependency>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.mockito</groupId>
            <artifactId>mockito-all</artifactId>
        </dependency>
    </dependencies>

    <build>
        <finalName>onebusaway-nyc-transit-data-federation</finalName>
        <resources>
            <resource>
                <directory>src/main/resources</directory>
                <filtering>true</filtering>
            </resource>
        </resources>
    </build>

</project>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <artifactId>onebusaway-nyc</artifactId>
        <groupId>org.onebusaway</groupId>
        <version>2.11.0-SNAPSHOT</version>
    </parent>
    <groupId>org.onebusaway</groupId>
    <artifactId>onebusaway-nyc-transit-data</artifactId>
    <packaging>jar</packaging>
    <name>onebusaway-nyc-transit-data</name>
    <description>Common interfaces and classes for exchanging transit data between UI front-end and transit back-end data sources.</description>

    <dependencies>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-transit-data</artifactId>
            <version>${onebusaway.app-modules.version}</version>
        </dependency>
        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-realtime-api</artifactId>
            <version>${onebusaway.app-modules.version}</version>
        </dependency>
    </dependencies>
</project><?xml version="1.0"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <artifactId>onebusaway-nyc</artifactId>
    <groupId>org.onebusaway</groupId>
    <version>2.11.0-SNAPSHOT</version>
  </parent>
  <groupId>org.onebusaway</groupId>
  <artifactId>onebusaway-nyc-util</artifactId>
  <name>onebusaway-nyc-util</name>
  <packaging>jar</packaging>
  <properties>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>
  <dependencies>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
        </dependency>
    <dependency>
    	<groupId>com.google.code.gson</groupId>
    	<artifactId>gson</artifactId>
    	<version>2.1</version>
    </dependency>
    <dependency>
    	<groupId>commons-lang</groupId>
    	<artifactId>commons-lang</artifactId>
    	<version>2.6</version>
    </dependency>
    <dependency>
    	<groupId>org.onebusaway</groupId>
    	<artifactId>onebusaway-container</artifactId>
    	<version>${onebusaway.app-modules.version}</version>
    </dependency>
    <dependency>
    	<groupId>org.mockito</groupId>
    	<artifactId>mockito-all</artifactId>
    </dependency>
    <dependency>
      <groupId>org.apache.commons</groupId>
      <artifactId>commons-compress</artifactId>
      <version>1.2</version>
    </dependency>
  </dependencies>
  
  <profiles>
        <!--  bundle location profiles -->
        <profile>
            <id>cloud</id>
            <activation>
              <activeByDefault>true</activeByDefault>
            </activation>
            <properties>
                <tdm.host>tdm</tdm.host><!-- assumes domain is set in resolv.conf -->
                <log4j.appender>ROLL</log4j.appender>
            </properties>
        </profile>
        <profile>
            <id>local-front-end</id>
            <properties>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <log4j.appender>stdout</log4j.appender>
            </properties>
        </profile>
        <profile>
            <!-- don't run both the vtw and the tdf in the same instance -->
            <id>local-single-port</id>
            <properties>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <log4j.appender>stdout</log4j.appender>
            </properties>
        </profile>
        <profile>
            <id>local-ie</id>
            <properties>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <log4j.appender>stdout</log4j.appender>
            </properties>
        </profile>
        <profile>
            <id>local-multi-port</id>
            <properties>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <log4j.appender>stdout</log4j.appender>
            </properties>
        </profile>
    </profiles>
</project>
<?xml version="1.0"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <artifactId>onebusaway-nyc</artifactId>
        <groupId>org.onebusaway</groupId>
        <version>2.11.0-SNAPSHOT</version>
    </parent>
    <groupId>org.onebusaway</groupId>
    <artifactId>onebusaway-nyc-vehicle-tracking-webapp</artifactId>
    <packaging>war</packaging>
    <name>onebusaway-nyc-vehicle-tracking-webapp</name>

    <dependencies>

        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-vehicle-tracking</artifactId>
            <version>2.11.0-SNAPSHOT</version>
            <exclusions>
                <exclusion>
                    <groupId>javax.servlet.jsp</groupId>
                    <artifactId>jsp-api</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.mortbay.jetty</groupId>
                    <artifactId>servlet-api</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

        <dependency>
            <groupId>org.onebusaway</groupId>
            <artifactId>onebusaway-nyc-tdm-adapters</artifactId>
            <version>2.11.0-SNAPSHOT</version>
        </dependency>
        <!-- Standard Java Webapp Libraries -->
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>servlet-api</artifactId>
            <version>2.4</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>jsp-api</artifactId>
            <version>2.0</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>jstl</artifactId>
            <version>1.1.2</version>
        </dependency>
        <dependency>
            <groupId>taglibs</groupId>
            <artifactId>standard</artifactId>
            <version>1.1.2</version>
        </dependency>

        <dependency>
            <groupId>com.thoughtworks.xstream</groupId>
            <artifactId>xstream</artifactId>
            <version>1.3.1</version>
        </dependency>

        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-webmvc</artifactId>
        </dependency>
        <dependency>
            <groupId>commons-fileupload</groupId>
            <artifactId>commons-fileupload</artifactId>
            <version>1.2.2</version>
        </dependency>
        <dependency>
            <groupId>commons-io</groupId>
            <artifactId>commons-io</artifactId>
            <version>1.4</version>
        </dependency>

        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>apache-log4j-extras</artifactId>
        </dependency>

        <dependency>
            <groupId>postgresql</groupId>
            <artifactId>postgresql</artifactId>
        </dependency>

        <dependency>
            <groupId>org.codehaus.jackson</groupId>
            <artifactId>jackson-mapper-asl</artifactId>
            <version>1.9.2</version>
        </dependency>
        <dependency>
          <groupId>mysql</groupId>
          <artifactId>mysql-connector-java</artifactId>
          <version>5.1.18</version>
        </dependency>
    </dependencies>

    <!-- TODO These are duplicated in several pom.xml files. Need to refactor out. -->
    <profiles>
        <profile>
            <id>cloud</id>
            <activation>
                <activeByDefault>true</activeByDefault>
            </activation>
	    <!-- db is only for bundle, don't use RDS -->
            <properties>
                <db.driverClassName>org.hsqldb.jdbcDriver</db.driverClassName>
                <db.url>jdbc:hsqldb:file:${bundle.location}/org_onebusaway_database</db.url>
                <db.username>sa</db.username>
                <db.password />
<!--
                <db.hibernate.dialect>org.hibernate.dialect.HSQLDialect</db.hibernate.dialect>
-->
                <ie.listener>PartitionedInputQueueListenerTask</ie.listener>
                <ie.output.queue>OutputQueueSenderServiceImpl</ie.output.queue>
                <tdm.host>tdm</tdm.host><!-- assumes domain is set in resolv.conf -->
                <service.alerts.url>http://tdm/siri/situation-exchange</service.alerts.url>
                <service.alerts.subscription.path>:8080/onebusaway-nyc-transit-data-federation-webapp/siri/situation-exchange</service.alerts.subscription.path>
                <bundle.location>/mnt/obanyc/oba-bundle</bundle.location>
                <siri.service.config>nyc-siri-service.xml</siri.service.config>
                <bundle.mode.standalone>false</bundle.mode.standalone>
                <depot.partition.key />
                <log4j.appender>ROLL</log4j.appender>
                <particle.filter.debug>false</particle.filter.debug>
                <timePredictions.disable>true</timePredictions.disable>
            </properties>
        </profile>
        <profile>
          <!-- don't run both the vtw and the tdf in the same instance -->
          <id>local-single-port</id>
          <properties>
                <db.driverClassName>org.hsqldb.jdbcDriver</db.driverClassName>
                <db.url>jdbc:hsqldb:file:${bundle.location}/org_onebusaway_database</db.url>
                <db.username>sa</db.username>
                <db.password />
<!--
                <db.hibernate.dialect>org.hibernate.dialect.HSQLDialect</db.hibernate.dialect>
-->
				<ie.listener>DummyPartitionedInputQueueListenerTask</ie.listener>
                <!-- <ie.listener>PartitionedInputQueueListenerTask</ie.listener>-->
                <ie.output.queue>DummyOutputQueueSenderServiceImpl</ie.output.queue>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <service.alerts.url>http://localhost:8080/siri/situation-exchange</service.alerts.url>
                <service.alerts.subscription.path>:8080/onebusaway-nyc-vehicle-tracking-webapp/siri/situation-exchange</service.alerts.subscription.path>
                <!-- Set this to nyc-siri-service.xml if you do want the NycSiriService to run -->
<!--                 <siri.service.config>nyc-siri-service.xml</siri.service.config> -->
                 <siri.service.config>empty.xml</siri.service.config>
                 <bundle.location>/tmp/oba-bundle</bundle.location>
                 <bundle.mode.standalone>false</bundle.mode.standalone>
                 <depot.partition.key />
                 <log4j.appender>stdout</log4j.appender>
                 <particle.filter.debug>false</particle.filter.debug>
                 <timePredictions.disable>true</timePredictions.disable>
          </properties>
        </profile>
        <profile>
          <id>local-ie</id>
          <properties>
                <db.driverClassName>org.hsqldb.jdbcDriver</db.driverClassName>
                <db.url>jdbc:hsqldb:file:${bundle.location}/org_onebusaway_database</db.url>
                <db.username>sa</db.username>
                <db.password />
<!--
                <db.hibernate.dialect>org.hibernate.dialect.HSQLDialect</db.hibernate.dialect>
-->
                
                <ie.listener>PartitionedInputQueueListenerTask</ie.listener>
                 <!--
                <ie.listener>SingleVehicleInputQueueListenerTask</ie.listener>
                 -->
                <ie.output.queue>DummyOutputQueueSenderServiceImpl</ie.output.queue>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <service.alerts.url>http://localhost:8080/siri/situation-exchange</service.alerts.url>
                <service.alerts.subscription.path>:8080/onebusaway-nyc-vehicle-tracking-webapp/siri/situation-exchange</service.alerts.subscription.path>
                <!-- Set this to nyc-siri-service.xml if you do want the NycSiriService to run -->
<!--                 <siri.service.config>nyc-siri-service.xml</siri.service.config> -->
                 <siri.service.config>empty.xml</siri.service.config>
                 <bundle.location>/tmp/oba-bundle</bundle.location>
                 <bundle.mode.standalone>false</bundle.mode.standalone>
                 <depot.partition.key />
                 <log4j.appender>stdout</log4j.appender>
                 <particle.filter.debug>false</particle.filter.debug>
                 <timePredictions.disable>false</timePredictions.disable>
          </properties>
        </profile>
        <profile>
          <id>local-ie-testing</id>
          <properties>
                <db.driverClassName>org.hsqldb.jdbcDriver</db.driverClassName>
                <db.url>jdbc:hsqldb:file:${bundle.location}/org_onebusaway_database</db.url>
                <db.username>sa</db.username>
                <db.password />
                <db.hibernate.dialect>org.hibernate.dialect.HSQLDialect</db.hibernate.dialect>
                <ie.listener>DummyPartitionedInputQueueListenerTask</ie.listener>
                <!-- <ie.listener>PartitionedInputQueueListenerTask</ie.listener> -->
                <ie.output.queue>DummyOutputQueueSenderServiceImpl</ie.output.queue>
                <tdm.host>tdm.dev.obanyc.com</tdm.host> 
<!-- 
                <tdm.port>80</tdm.port>
                <tdm.url>/api/</tdm.url>
      -->           
                <service.alerts.url>http://localhost:8080/siri/situation-exchange</service.alerts.url>
                <service.alerts.subscription.path>:8080/onebusaway-nyc-vehicle-tracking-webapp/siri/situation-exchange</service.alerts.subscription.path>
                <!-- Set this to nyc-siri-service.xml if you do want the NycSiriService to run -->
<!--                 <siri.service.config>nyc-siri-service.xml</siri.service.config> -->
                 <siri.service.config>empty.xml</siri.service.config>
                 <bundle.location>/var/lib/obanyc/oba-bundle</bundle.location>
                 <bundle.mode.standalone>true</bundle.mode.standalone>
<!--                  <bundle.mode.standalone>false</bundle.mode.standalone> -->
                 <depot.partition.key />
                 <log4j.appender>stdout</log4j.appender>
<!--                  <particle.filter.debug>false</particle.filter.debug> -->
                 <particle.filter.debug>true</particle.filter.debug>
                 <timePredictions.disable>true</timePredictions.disable>
          </properties>
        </profile>
        <profile>
          <id>local-multi-port</id>
          <properties>
                <db.driverClassName>org.hsqldb.jdbcDriver</db.driverClassName>
                <db.url>jdbc:hsqldb:file:${bundle.location}/org_onebusaway_database</db.url>
                <db.username>sa</db.username>
                <db.password />
<!--
                <db.hibernate.dialect>org.hibernate.dialect.HSQLDialect</db.hibernate.dialect>
-->
                <ie.listener>PartitionedInputQueueListenerTask</ie.listener>
                <ie.output.queue>DummyOutputQueueSenderServiceImpl</ie.output.queue>
                <tdm.host>tdm.dev.obanyc.com</tdm.host>
                <service.alerts.url>http://localhost:8083/siri/situation-exchange</service.alerts.url>
                <service.alerts.subscription.path>:8081/onebusaway-nyc-vehicle-tracking-webapp/siri/situation-exchange</service.alerts.subscription.path>
                <!-- Set this to nyc-siri-service.xml if you do want the NycSiriService to run -->
<!--                 <siri.service.config>nyc-siri-service.xml</siri.service.config> -->
                 <siri.service.config>empty.xml</siri.service.config>
                 <bundle.location>/tmp/oba-bundle</bundle.location>
                 <bundle.mode.standalone>false</bundle.mode.standalone>
                 <depot.partition.key>YU</depot.partition.key>
                 <log4j.appender>stdout</log4j.appender>
                 <particle.filter.debug>false</particle.filter.debug>
                 <timePredictions.disable>true</timePredictions.disable>
          </properties>
        </profile>

        <!--  depot partition keys -->
        <!--  mainly useful for limiting data for development environments -->
        <profile>
            <id>depots-one</id>
            <properties>
                <depot.partition.key>YU</depot.partition.key>
            </properties>            
        </profile>
        <profile>
            <id>depots-small</id>
            <properties>
                <depot.partition.key>CA,YU,CH</depot.partition.key><!-- B63 -->
            </properties>            
        </profile>
        <profile>
            <id>depots-none</id>
            <activation>
                <activeByDefault>true</activeByDefault>
            </activation>
            <properties>
                <depot.partition.key />
            </properties>            
        </profile>
    </profiles>

    <build>
        <finalName>onebusaway-nyc-vehicle-tracking-webapp</finalName>
        <plugins>
			<plugin>
				<groupId>pl.project13.maven</groupId>
				<artifactId>git-commit-id-plugin</artifactId>
				<version>2.1.2</version>
				<executions>
					<execution>
						<goals>
							<goal>revision</goal>
						</goals>
					</execution>
				</executions>
				<configuration>
					<prefix>git</prefix>
					<dateFormat>dd.MM.yyyy '@' HH:mm:ss z</dateFormat>
					<verbose>true</verbose>
					<skipPoms>false</skipPoms>
					<generateGitPropertiesFile>false</generateGitPropertiesFile>
					<generateGitPropertiesFilename>src/main/resources/git.properties</generateGitPropertiesFilename>
					<gitDescribe>
						<skip>false</skip>
						<always>true</always>
						<abbrev>7</abbrev>
						<dirty>-dirty</dirty>
						<forceLongFormat>false</forceLongFormat>
					</gitDescribe>
				</configuration>
			</plugin>
            <plugin>
                <groupId>org.mortbay.jetty</groupId>
                <artifactId>maven-jetty-plugin</artifactId>
                <version>${jetty.version}</version>
                <!-- TODO This configuration needs to be under a profile for local operation -->
                <configuration>
                    <!-- TODO Only for OSX? -->
<!--                     <systemProperties>
                        <systemProperty>
                            <name>java.library.path</name>
                            <value>/usr/local/lib</value>
                        </systemProperty>
                    </systemProperties>
 -->                    <connectors>
                        <connector implementation="org.mortbay.jetty.nio.SelectChannelConnector">
                            <port>8081</port>
                        </connector>
                    </connectors>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>exec-maven-plugin</artifactId>
                <version>1.2.1</version>
                <configuration>
                    <mainClass>org.hsqldb.Server</mainClass>
                     <arguments>
                        <argument>-database.0</argument>
                        <argument>file:onebusaway_nyc</argument>
                        <argument>-dbname.0</argument>
                        <argument>onebusaway_nyc</argument>
                    </arguments>
                </configuration>
            </plugin>
        </plugins>
        <resources>
            <resource>
                <directory>src/main/resources</directory>
                <filtering>true</filtering>
            </resource>
        </resources>
        <pluginManagement>
        	<plugins>
        		<!--This plugin's configuration is used to store Eclipse m2e settings only. It has no influence on the Maven build itself.-->
        		<plugin>
        			<groupId>org.eclipse.m2e</groupId>
        			<artifactId>lifecycle-mapping</artifactId>
        			<version>1.0.0</version>
        			<configuration>
        				<lifecycleMappingMetadata>
        					<pluginExecutions>
        						<pluginExecution>
        							<pluginExecutionFilter>
        								<groupId>
        									pl.project13.maven
        								</groupId>
        								<artifactId>
        									git-commit-id-plugin
        								</artifactId>
        								<versionRange>
        									[2.1.2,)
        								</versionRange>
        								<goals>
        									<goal>revision</goal>
        								</goals>
        							</pluginExecutionFilter>
        							<action>
										<execute>
											<runOnIncremental>true</runOnIncremental>
											<runOnConfiguration>true</runOnConfiguration>
										</execute>
        							</action>
        						</pluginExecution>
        					</pluginExecutions>
        				</lifecycleMappingMetadata>
        			</configuration>
        		</plugin>
        	</plugins>
        </pluginManagement>
    </build>
</project>
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<artifactId>onebusaway-nyc</artifactId>
		<groupId>org.onebusaway</groupId>
		<version>2.11.0-SNAPSHOT</version>
	</parent>
	<artifactId>onebusaway-nyc-vehicle-tracking</artifactId>
	<packaging>jar</packaging>
	<name>onebusaway-nyc-vehicle-tracking</name>

	<dependencies>
		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-nyc-queue-realtime</artifactId>
			<version>2.11.0-SNAPSHOT</version>
		</dependency>
		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-nyc-queue-subscriber</artifactId>
			<version>2.11.0-SNAPSHOT</version>
		</dependency>
		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-nyc-transit-data-federation</artifactId>
			<version>2.11.0-SNAPSHOT</version>
		</dependency>
		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-nyc-util</artifactId>
			<version>2.11.0-SNAPSHOT</version>
		</dependency>
		<dependency>
			<groupId>javax.servlet</groupId>
			<artifactId>servlet-api</artifactId>
			<scope>provided</scope>
		</dependency>

		<!-- This needs to be more than just test scope so we can use it run the 
			bundle builder -->
		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>slf4j-log4j12</artifactId>
		</dependency>
		<dependency>
			<groupId>log4j</groupId>
			<artifactId>apache-log4j-extras</artifactId>
		</dependency>

		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>ca.umontreal.iro</groupId>
			<artifactId>ssj</artifactId>
			<version>2.4</version>
		</dependency>
		<dependency>
			<groupId>gov.sandia.foundry</groupId>
			<artifactId>gov-sandia-cognition-common-core</artifactId>
			<version>3.3.2</version>
		</dependency>
		<dependency>
			<groupId>gov.sandia.foundry</groupId>
			<artifactId>gov-sandia-cognition-learning-core</artifactId>
			<version>3.3.2</version>
		</dependency>
		<dependency>
			<groupId>commons-lang</groupId>
			<artifactId>commons-lang</artifactId>
			<version>2.5</version>
		</dependency>
		<dependency>
			<groupId>org.mockito</groupId>
			<artifactId>mockito-all</artifactId>
		</dependency>
		<dependency>
			<groupId>net.sf.trove4j</groupId>
			<artifactId>trove4j</artifactId>
			<version>3.0.2</version>
		</dependency>
		<dependency>
			<groupId>com.google.code.findbugs</groupId>
			<artifactId>jsr305</artifactId>
			<version>1.3.9</version>
		</dependency>
		<dependency>
			<groupId>com.google.guava</groupId>
			<artifactId>guava</artifactId>
			<version>14.0.1</version>
		</dependency>
		<dependency>
			<groupId>com.googlecode.concurrentlinkedhashmap</groupId>
			<artifactId>concurrentlinkedhashmap-lru</artifactId>
			<version>1.2</version>
		</dependency>
		<dependency>
			<groupId>org.apache.commons</groupId>
			<artifactId>commons-math</artifactId>
			<version>2.2</version>
		</dependency>
		<dependency>
			<groupId>org.apache.commons</groupId>
			<artifactId>commons-lang3</artifactId>
			<version>3.1</version>
		</dependency>
	</dependencies>

</project>
<?xml version="1.0"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<artifactId>onebusaway-nyc</artifactId>
		<groupId>org.onebusaway</groupId>
		<version>2.11.0-SNAPSHOT</version>
	</parent>
	<groupId>org.onebusaway</groupId>
	<artifactId>onebusaway-nyc-webapp</artifactId>
	<packaging>war</packaging>

	<name>onebusaway-nyc-webapp</name>

	<repositories>
		<!-- Required for the xwiki-rendering-macros -->
		<repository>
			<id>xwiki</id>
			<url>http://maven.xwiki.org/releases</url>
		</repository>
	</repositories>

	<dependencies>

		<!-- OneBusAway Dependencies -->
		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-nyc-presentation</artifactId>
			<version>2.11.0-SNAPSHOT</version>
		</dependency>

		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-nyc-transit-data</artifactId>
			<version>2.11.0-SNAPSHOT</version>
		</dependency>
		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-realtime-api</artifactId>
			<version>${onebusaway.app-modules.version}</version>
		</dependency>

		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-nyc-api-core</artifactId>
			<version>2.11.0-SNAPSHOT</version>
		</dependency>
		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-nyc-util</artifactId>
			<version>2.11.0-SNAPSHOT</version>
		</dependency>
		
		<!-- Wiki Integration Support -->
		<!-- XWiki depends on an old verion of beanutils that causes conflicts 
			for some reason -->
		<dependency>
			<groupId>commons-beanutils</groupId>
			<artifactId>commons-beanutils</artifactId>
			<version>1.8.0</version>
		</dependency>
		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-wiki-integration-tags</artifactId>
			<version>${xwiki.integration.version}</version>
		</dependency>
		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-wiki-integration-xwiki-impl</artifactId>
			<version>${xwiki.integration.version}</version>
		</dependency>
		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-wiki-integration-xwiki-struts-macros</artifactId>
			<version>${xwiki.integration.version}</version>
		</dependency>
		<dependency>
			<groupId>org.onebusaway</groupId>
			<artifactId>onebusaway-wiki-integration-xwiki-macros</artifactId>
			<version>${xwiki.integration.version}</version>
		</dependency>

		<dependency>
			<groupId>com.thoughtworks.xstream</groupId>
			<artifactId>xstream</artifactId>
			<version>1.3.1</version>
		</dependency>

		<dependency>
			<groupId>com.google.code.gson</groupId>
			<artifactId>gson</artifactId>
			<version>1.7.1</version>
		</dependency>

		<dependency>
			<groupId>javax.servlet</groupId>
			<artifactId>jsp-api</artifactId>
		</dependency>
		<dependency>
			<groupId>javax.servlet</groupId>
			<artifactId>jstl</artifactId>
		</dependency>
		<dependency>
			<groupId>taglibs</groupId>
			<artifactId>standard</artifactId>
		</dependency>
		<dependency>
			<groupId>com.dmurph</groupId>
			<artifactId>JGoogleAnalyticsTracker</artifactId>
			<version>1.2.2</version>
		</dependency>

		<!-- <dependency> <groupId>postgresql</groupId> <artifactId>postgresql</artifactId> 
			</dependency> -->
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>org.mockito</groupId>
			<artifactId>mockito-all</artifactId>
		</dependency>
		<dependency>
			<groupId>org.tuckey</groupId>
			<artifactId>urlrewritefilter</artifactId>
			<version>3.2.0</version>
			<type>jar</type>
			<scope>compile</scope>
		</dependency>

		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>slf4j-log4j12</artifactId>
		</dependency>
		<dependency>
			<groupId>log4j</groupId>
			<artifactId>apache-log4j-extras</artifactId>
		</dependency>

		<!-- for amazon deployment -->
		<dependency>
			<groupId>mysql</groupId>
			<artifactId>mysql-connector-java</artifactId>
			<version>5.1.17</version>
		</dependency>

	</dependencies>

	<profiles>
		<profile>
			<id>cloud</id> <!-- aka services-dev --> <!-- aka staging, production -->
			<activation>
				<activeByDefault>true</activeByDefault>
			</activation>
			<properties>
				<tds.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
				<vtms.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
				<config.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
				<archive.path>http://archive/onebusaway-nyc-report-archive</archive.path><!-- 
					assumes domain is set in resolv.conf -->
				<tdm.host>tdm</tdm.host><!-- assumes domain is set -->
				<webapp.api.url />
				<log4j.appender>ROLL</log4j.appender>
				<create-apikey>false</create-apikey>
				<siri.cache.disabled>false</siri.cache.disabled>
			</properties>
		</profile>
		<profile>
			<id>local-front-end</id>
			<properties>
				<tds.path>http://sms.dev.obanyc.com:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
				<vtms.path>http://sms.dev.obanyc.com:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
				<config.path>http://sms.dev.obanyc.com:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
				<archive.path>http://archive.dev.obanyc.com/onebusaway-nyc-report-archive</archive.path>
				<tdm.host>tdm.dev.obanyc.com</tdm.host>
				<webapp.api.url />
				<log4j.appender>stdout</log4j.appender>
				<create-apikey>true</create-apikey>
				<siri.cache.disabled>false</siri.cache.disabled>
			</properties>
		</profile>
		<profile>
			<id>local-single-port</id><!-- aka services-tdf-as-tds --> <!-- aka staging, production -->
			<properties>
				<tds.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</tds.path>
				<vtms.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</vtms.path>
				<config.path>http://localhost:8080/onebusaway-nyc-transit-data-federation-webapp</config.path>
				<archive.path>http://localhost:8080/onebusaway-nyc-report-archive</archive.path>
				<tdm.host>tdm.dev.obanyc.com</tdm.host>
				<webapp.api.url />
				<log4j.appender>stdout</log4j.appender>
				<create-apikey>true</create-apikey>
				<siri.cache.disabled>false</siri.cache.disabled>
			</properties>
		</profile>
		<profile>
			<!-- Vehicle tracking webapp offers the TDS -->
			<id>local-ie</id> <!-- aka services-vtw-as-tds --> <!-- single port, aka development -->
			<properties>
				<tds.path>http://localhost:9905/onebusaway-nyc-vehicle-tracking-webapp</tds.path>
				<vtms.path>http://localhost:9905/onebusaway-nyc-vehicle-tracking-webapp</vtms.path>
				<config.path>http://localhost:9905/onebusaway-nyc-vehicle-tracking-webapp</config.path>
				<archive.path>http://localhost:9090/onebusaway-nyc-report-archive</archive.path>
				<tdm.host>tdm.dev.obanyc.com</tdm.host>
				<webapp.api.url>http://localhost:8080</webapp.api.url>
				<log4j.appender>stdout</log4j.appender>
				<create-apikey>true</create-apikey>
				<siri.cache.disabled>false</siri.cache.disabled>
			</properties>
		</profile>
		<profile>
			<id>local-multi-port</id> <!-- services-vtw-as-tds-multiport --><!-- multi port, also for development -->
			<!-- assumes we're running on 8080, and vtw and api are on different ports -->
			<properties>
				<tds.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</tds.path>
				<vtms.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</vtms.path>
				<config.path>http://localhost:8081/onebusaway-nyc-vehicle-tracking-webapp</config.path>
				<archive.path>http://localhost:8081/onebusaway-nyc-report-archive</archive.path>
				<tdm.host>tdm.dev.obanyc.com</tdm.host>
				<webapp.api.url>http://localhost:8082</webapp.api.url>
				<log4j.appender>stdout</log4j.appender>
				<create-apikey>true</create-apikey>
				<siri.cache.disabled>false</siri.cache.disabled>
			</properties>
		</profile>
	</profiles>

	<build>
		<finalName>onebusaway-nyc-webapp</finalName>
		<plugins>
			<plugin>
				<groupId>pl.project13.maven</groupId>
				<artifactId>git-commit-id-plugin</artifactId>
				<version>2.1.2</version>
				<executions>
					<execution>
						<goals>
							<goal>revision</goal>
						</goals>
					</execution>
				</executions>
				<configuration>
					<prefix>git</prefix>
					<dateFormat>dd.MM.yyyy '@' HH:mm:ss z</dateFormat>
					<verbose>true</verbose>
					<skipPoms>false</skipPoms>
					<generateGitPropertiesFile>false</generateGitPropertiesFile>
					<generateGitPropertiesFilename>src/main/resources/git.properties</generateGitPropertiesFilename>
					<gitDescribe>
						<skip>false</skip>
						<always>true</always>
						<abbrev>7</abbrev>
						<dirty>-dirty</dirty>
						<forceLongFormat>false</forceLongFormat>
					</gitDescribe>
				</configuration>
			</plugin>
			<plugin>
				<groupId>org.mortbay.jetty</groupId>
				<artifactId>maven-jetty-plugin</artifactId>
				<version>${jetty.version}</version>
				<configuration>
					<contextPath>/</contextPath>
				</configuration>
			</plugin>
		</plugins>
		<resources>
			<resource>
				<directory>src/main/resources</directory>
				<filtering>true</filtering>
				<includes>
					<include>**/*.properties</include>
					<include>**/*.xml</include>
				</includes>
			</resource>
		</resources>
		<pluginManagement>
			<plugins>
			<!-- This tells eclipse to when to execute the git-commit plugin -->
				<plugin>
					<groupId>org.eclipse.m2e</groupId>
					<artifactId>lifecycle-mapping</artifactId>
					<version>1.0.0</version>
					<configuration>
						<lifecycleMappingMetadata>
							<pluginExecutions>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>
											pl.project13.maven
										</groupId>
										<artifactId>
											git-commit-id-plugin
										</artifactId>
										<versionRange>
											[2.1.2,)
										</versionRange>
										<goals>
											<goal>revision</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<execute>
											<runOnIncremental>true</runOnIncremental>
											<runOnConfiguration>true</runOnConfiguration>
										</execute>
									</action>
								</pluginExecution>
							</pluginExecutions>
						</lifecycleMappingMetadata>
					</configuration>
				</plugin>
			</plugins>
		</pluginManagement>
	</build>

</project>
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <parent>
        <artifactId>onebusaway</artifactId>
        <groupId>org.onebusaway</groupId>
        <version>1.0.7</version>
    </parent>
    <modelVersion>4.0.0</modelVersion>
    <groupId>org.onebusaway</groupId>
    <artifactId>onebusaway-nyc</artifactId>
    <version>2.11.0-SNAPSHOT</version>
    <packaging>pom</packaging>
    <name>onebusaway-nyc</name>

    <properties>
      <nyc_site_id>build.staging.obanyc.com</nyc_site_id>
      <nyc_site_deployment_base>scp://${nyc_site_id}/var/www/sites/developer/modules</nyc_site_deployment_base>
      <nyc_site_url>${site_deployment_base}/${project.name}/${project.version}</nyc_site_url>
    	<onebusaway.gtfs.version>1.2.6</onebusaway.gtfs.version><!-- 1.2.7 changes the was CSV works -->
    	<onebusaway.siri.version>1.0.0</onebusaway.siri.version>
    	<onebusaway.csv-entities.version>1.0.3</onebusaway.csv-entities.version>
    	<struts.version>2.2.1.1</struts.version>
        <jetty.version>6.1.26</jetty.version>
        <spring.version>3.0.3.RELEASE</spring.version>
        <onebusaway.app-modules.version>1.1.11</onebusaway.app-modules.version>
        <gitDescribe>99999</gitDescribe>
        <xwiki.version>2.3.1</xwiki.version>
		<xwiki.integration.version>0.0.2</xwiki.integration.version>
    </properties>

    <repositories>
        <repository>
            <id>nyc-cache</id>
            <url>http://build.staging.obanyc.com/archiva/repository/internal/</url>
            <releases>
                <enabled>true</enabled>
            </releases>
            <snapshots>
                <enabled>true</enabled>
            </snapshots>
        </repository>
        <repository>
            <id>snapshots.staging.obanyc.com</id>
            <url>http://build.staging.obanyc.com/archiva/repository/snapshots/</url>
            <releases>
                <enabled>false</enabled>
            </releases>
            <snapshots>
                <enabled>true</enabled>
            </snapshots>
        </repository>
        <repository>
            <id>releases.staging.obanyc.com</id>
            <url>http://build.staging.obanyc.com/archiva/repository/releases/</url>
            <releases>
                <enabled>true</enabled>
            </releases>
            <snapshots>
                <enabled>false</enabled>
            </snapshots>
        </repository>
<!-- cached by nyc-cache -->
<!--
        <repository>
            <id>caucho</id>
            <url>http://caucho.com/m2</url>
            <releases>
                <enabled>true</enabled>
            </releases>
            <snapshots>
                <enabled>true</enabled>
            </snapshots>
        </repository>
        <repository>
            <id>ssj</id>
            <url>http://maven.iscpif.fr/public</url>
            <releases>
                <enabled>true</enabled>
            </releases>
            <snapshots>
                <enabled>false</enabled>
            </snapshots>
        </repository>
-->
    <!-- for UUID support -->
    <!-- cached by nyc-cache -->
<!--
        <repository>
            <id>eaio.com</id>
            <url>http://eaio.com/maven2</url>
            <releases>
                <enabled>true</enabled>
            </releases>
            <snapshots>
                <enabled>false</enabled>
            </snapshots>
        </repository>
-->
<!-- if nyc-cache is down is down, try camsys.com -->
        <repository>
            <id>camsys-cache</id>
            <url>http://svn2.camsys.com/archiva/repository/internal/</url>
            <releases>
                <enabled>true</enabled>
            </releases>
            <snapshots>
                <enabled>true</enabled>
            </snapshots>
        </repository>
<!-- these have been phased out -->
<!--
        <repository>
            <id>releases.github.onebusaway.org</id>
            <url>https://github.com/camsys/mvn-repo/raw/master/releases</url>
            <releases>
                <enabled>true</enabled>
            </releases>
            <snapshots>
                <enabled>false</enabled>
            </snapshots>
        </repository>
        <repository>
            <id>snapshots.github.onebusaway.org</id>
            <url>https://github.com/camsys/mvn-repo/raw/master/snapshots</url>
            <releases>
                <enabled>false</enabled>
            </releases>
            <snapshots>
                <enabled>true</enabled>
            </snapshots>
        </repository>
-->
<!-- this is inheritied implicitly -->
<!--
        <repository>
            <id>snapshots.nexus.onebusaway.org</id>
            <url>http://nexus.onebusaway.org/content/repositories/snapshots/</url>
            <releases>
                <enabled>false</enabled>
            </releases>
            <snapshots>
                <enabled>true</enabled>
            </snapshots>
        </repository>
        <repository>
            <id>public.nexus.onebusaway.org</id>
            <url>http://nexus.onebusaway.org/content/groups/public/</url>
            <releases>
                <enabled>true</enabled>
            </releases>
            <snapshots>
                <enabled>true</enabled>
            </snapshots>
        </repository>
-->
    </repositories>

    <pluginRepositories>
        <pluginRepository>
            <id>mc-release</id>
            <name>Local Maven repository of releases</name>
            <url>http://mc-repo.googlecode.com/svn/maven2/releases</url>
            <snapshots>
                <enabled>false</enabled>
            </snapshots>
            <releases>
                <enabled>true</enabled>
            </releases>
        </pluginRepository>
    </pluginRepositories>

    <scm>
        <connection>scm:git:git@github.com:camsys/onebusaway-nyc.git</connection>
        <developerConnection>scm:git:git@github.com:camsys/onebusaway-nyc.git</developerConnection>
        <url>scm:git:git@github.com:camsys/onebusaway-nyc</url>
    </scm>

  <issueManagement>
    <system>GitHub</system>
    <url>https://github.com/camsys/onebusaway-nyc/issues</url>
  </issueManagement>

  <distributionManagement>
    <repository>
      <id>releases-mvn-repo</id>
      <url>http://build.staging.obanyc.com/archiva/repository/releases/</url>
    </repository>
    <snapshotRepository>
      <id>snapshots-mvn-repo</id>
      <url>http://build.staging.obanyc.com/archiva/repository/snapshots/</url>
    </snapshotRepository>
    <site>
      <id>${nyc_site_id}</id>
      <url>${nyc_site_deployment_base}/onebusaway-nyc/${project.version}</url>
    </site>
  </distributionManagement>

  <!-- NOTE If you change the module list, make sure to keep the one
       in the skip-integration-tests profile updated. -->
    <modules>
<!--     <module>onebusaway-nyc-integration-tests</module> -->
        <module>onebusaway-nyc-vehicle-tracking</module>
        <module>onebusaway-nyc-vehicle-tracking-webapp</module>
        <module>onebusaway-nyc-webapp</module>
        <module>onebusaway-nyc-presentation</module>
        <module>onebusaway-nyc-sms-webapp</module>
        <module>onebusaway-nyc-transit-data</module>
        <module>onebusaway-nyc-tdm-adapters</module>
        <module>onebusaway-nyc-tdm-webapp</module>
        <module>onebusaway-nyc-transit-data-federation</module>
        <module>onebusaway-nyc-transit-data-federation-webapp</module>
        <module>onebusaway-nyc-api-webapp</module>
        <module>onebusaway-nyc-api-core</module>
        <module>onebusaway-nyc-queue-realtime</module>
        <module>onebusaway-nyc-queue-broker</module>
        <module>onebusaway-nyc-queue-http-proxy</module>
        <module>onebusaway-nyc-queue-test</module>
        <module>onebusaway-nyc-queue-subscriber</module>
        <module>onebusaway-nyc-report-archive</module>
    	<module>onebusaway-nyc-util</module>
    	<module>onebusaway-nyc-admin-webapp</module>
    	<module>onebusaway-nyc-acta-webapp</module>
<!-- this only needs to be built on changes, which are rare -->
<!--
    	<module>onebusaway-nyc-tcip-api</module>
-->
  </modules>

    <profiles>
        <profile>
            <id>skip-integration-tests</id>
        </profile>
        <profile>
            <id>include-integration-tests</id>
            <activation>
                <activeByDefault>true</activeByDefault>
            </activation>
            <modules>
                <module>onebusaway-nyc-integration-tests</module>
                <module>onebusaway-nyc-vehicle-tracking</module>
                <module>onebusaway-nyc-vehicle-tracking-webapp</module>
                <module>onebusaway-nyc-webapp</module>
                <module>onebusaway-nyc-presentation</module>
                <module>onebusaway-nyc-sms-webapp</module>
                <module>onebusaway-nyc-transit-data</module>
                <module>onebusaway-nyc-tdm-adapters</module>
                <module>onebusaway-nyc-tdm-webapp</module>
                <module>onebusaway-nyc-transit-data-federation</module>
                <module>onebusaway-nyc-transit-data-federation-webapp</module>
                <module>onebusaway-nyc-api-webapp</module>
                <module>onebusaway-nyc-queue-realtime</module>
                <module>onebusaway-nyc-queue-broker</module>
                <module>onebusaway-nyc-queue-http-proxy</module>
                <module>onebusaway-nyc-queue-test</module>
                <module>onebusaway-nyc-queue-subscriber</module>
                <module>onebusaway-nyc-report-archive</module>
                <module>onebusaway-nyc-admin-webapp</module>
                <module>onebusaway-nyc-acta-webapp</module>
<!-- this only needs to be built on changes, which are rare -->
<!--
		<module>onebusaway-nyc-tcip-api</module>
-->
            </modules>
        </profile>
    </profiles>

    <build>
    <!-- This is where we control the master plugin version used by all modules -->
        <pluginManagement>
            <plugins>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-assembly-plugin</artifactId>
                    <version>2.2</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-clean-plugin</artifactId>
                    <version>2.2</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-compiler-plugin</artifactId>
                    <version>2.0.2</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-deploy-plugin</artifactId>
                    <version>2.4</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-gpg-plugin</artifactId>
		    <configuration>
		      <skip>true</skip>
		    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-install-plugin</artifactId>
                    <version>2.2</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-jar-plugin</artifactId>
                    <version>2.2</version>
                    <configuration>
                        <archive>
                            <manifestEntries>
                                <Implementation-Build>${gitDescribe}</Implementation-Build>
                            </manifestEntries>
                        </archive>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-javadoc-plugin</artifactId>
                    <version>2.5</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-resources-plugin</artifactId>
                    <version>2.4.2</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-site-plugin</artifactId>
                    <version>2.0-beta-7</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-source-plugin</artifactId>
                    <version>2.0.4</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-war-plugin</artifactId>
                    <version>2.1</version>
                    <configuration>
                        <archive>
                            <manifestEntries>
                                <Implementation-Build>${gitDescribe}</Implementation-Build>
                            </manifestEntries>
                        </archive>
                    </configuration>
                </plugin>

                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-surefire-plugin</artifactId>
                    <version>2.5</version>
          <!-- By default, we exclude anything in the org.onebusaway.integration 
            package from regular unit test -->
                    <configuration>
                        <excludes>
                            <exclude>**/*IntegrationTest.java</exclude>
                        </excludes>
                        <systemProperties>
                          <property>
                            <name>log4j.configuration</name>
                            <value>log4j-stdout.xml</value>
                          </property>
                        </systemProperties>
                    </configuration>
                    <executions>
            <!-- Instead, we add a special integration-test execution that 
              runs any tests in the org.onebusaway.integration package -->
                        <execution>
                            <id>integration-tests</id>
                            <phase>integration-test</phase>
                            <goals>
                                <goal>test</goal>
                            </goals>
                            <configuration>
                                <skip>false</skip>
                                <excludes>
                                    <exclude>none</exclude>
                                </excludes>
                                <includes>
                                    <include>**/*IntegrationTest.java</include>
                                </includes>
                <!-- Don't stop the build if integration tests fail because 
                  we still want post-integration-test cleanup to run -->
                                <testFailureIgnore>true</testFailureIgnore>
                            </configuration>
                        </execution>
                    </executions>
                </plugin>
            </plugins>
        </pluginManagement>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-enforcer-plugin</artifactId>
                <version>1.0</version>
                <executions>
                    <execution>
                        <id>enforce-plugin-versions</id>
                        <goals>
                            <goal>enforce</goal>
                        </goals>
                        <configuration>
                            <rules>
                                <requireJavaVersion>
                                    <version>1.6</version>
                                </requireJavaVersion>
                                <requirePluginVersions />
                                <requireReleaseDeps>
                                    <onlyWhenRelease>true</onlyWhenRelease>
                                </requireReleaseDeps>
                            </rules>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <inherited>false</inherited>
                <groupId>com.mycila.maven-license-plugin</groupId>
                <artifactId>maven-license-plugin</artifactId>
                <version>1.9.0</version>
                <configuration>
                    <header>${basedir}/src/etc/license-header.txt</header>
                    <strictCheck>true</strictCheck>
                    <failIfMissing>true</failIfMissing>
                    <aggregate>true</aggregate>
                    <properties>
                        <year>${project.inceptionYear}</year>
                    </properties>
                    <excludes>
                        <exclude>LICENSE.txt</exclude>
                        <exclude>license-header.txt</exclude>
                        <exclude>**/src/test/resources/**</exclude>
                        <exclude>**/src/integration-test/resources/**</exclude>
                    </excludes>
                </configuration>
            </plugin>
        </plugins>
        <extensions>
            <extension>
                <groupId>org.apache.maven.wagon</groupId>
                <artifactId>wagon-ssh</artifactId>
                <version>1.0-beta-7</version>
            </extension>
        </extensions>
    </build>
    <dependencies>
    </dependencies>

    <dependencyManagement>
        <dependencies>
            <dependency>
                <groupId>org.onebusaway</groupId>
                <artifactId>onebusaway-collections</artifactId>
                <version>1.1.2</version>
            </dependency>

            <dependency>
                <groupId>org.onebusaway</groupId>
                <artifactId>onebusaway-csv-entities</artifactId>
                <version>${onebusaway.csv-entities.version}</version>
            </dependency>

            <dependency>
                <groupId>org.onebusaway</groupId>
                <artifactId>onebusaway-gtfs</artifactId>
                <version>${onebusaway.gtfs.version}</version>
            </dependency>
            <dependency>
                <groupId>org.onebusaway</groupId>
                <artifactId>onebusaway-gtfs-hibernate</artifactId>
                <version>${onebusaway.gtfs.version}</version>
            </dependency>
            <dependency>
                <groupId>org.onebusaway</groupId>
                <artifactId>onebusaway-gtfs-transformer</artifactId>
                <version>${onebusaway.gtfs.version}</version>
            </dependency>

            <dependency>
                <groupId>org.onebusaway</groupId>
                <artifactId>onebusaway-presentation</artifactId>
                <version>${onebusaway.app-modules.version}</version>
            </dependency>

      <!-- Spring Framework -->
            <dependency>
                <groupId>org.springframework</groupId>
                <artifactId>spring-aop</artifactId>
                <version>${spring.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework</groupId>
                <artifactId>spring-aspects</artifactId>
                <version>${spring.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework</groupId>
                <artifactId>spring-beans</artifactId>
                <version>${spring.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework</groupId>
                <artifactId>spring-context</artifactId>
                <version>${spring.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework</groupId>
                <artifactId>spring-context-support</artifactId>
                <version>${spring.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework</groupId>
                <artifactId>spring-core</artifactId>
                <version>${spring.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework</groupId>
                <artifactId>spring-jdbc</artifactId>
                <version>${spring.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework</groupId>
                <artifactId>spring-orm</artifactId>
                <version>${spring.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework</groupId>
                <artifactId>spring-test</artifactId>
                <version>${spring.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework</groupId>
                <artifactId>spring-tx</artifactId>
                <version>${spring.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework</groupId>
                <artifactId>spring-web</artifactId>
                <version>${spring.version}</version>
            </dependency>
            <dependency>
                <groupId>org.springframework</groupId>
                <artifactId>spring-webmvc</artifactId>
                <version>${spring.version}</version>
            </dependency>

      <!-- struts dependencies -->
            <dependency>
                <groupId>org.apache.struts</groupId>
                <artifactId>struts2-core</artifactId>
                <version>${struts.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.struts</groupId>
                <artifactId>struts2-spring-plugin</artifactId>
                <version>${struts.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.struts</groupId>
                <artifactId>struts2-convention-plugin</artifactId>
                <version>${struts.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.struts</groupId>
                <artifactId>struts2-rest-plugin</artifactId>
                <version>${struts.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.struts</groupId>
                <artifactId>struts2-sitemesh-plugin</artifactId>
                <version>${struts.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.struts</groupId>
                <artifactId>struts2-json-plugin</artifactId>
                <version>${struts.version}</version>
            </dependency>

            <dependency>
                <groupId>org.hsqldb</groupId>
                <artifactId>hsqldb</artifactId>
                <version>2.0.0</version>
            </dependency>

            <dependency>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-api</artifactId>
                <version>1.5.6</version>
            </dependency>
            <dependency>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-log4j12</artifactId>
                <version>1.5.6</version>
            </dependency>
            <dependency>
                <groupId>log4j</groupId>
                <artifactId>log4j</artifactId>
                <version>1.2.16</version>
            </dependency>
            <dependency>
                <groupId>log4j</groupId>
                <artifactId>apache-log4j-extras</artifactId>
                <version>1.1</version>
            </dependency>
            <dependency>
                <groupId>junit</groupId>
                <artifactId>junit</artifactId>
                <version>4.8.1</version>
                <scope>test</scope>
            </dependency>
            <dependency>
                <groupId>org.mockito</groupId>
                <artifactId>mockito-all</artifactId>
                <version>1.9.0-rc1</version>
                <scope>test</scope>
            </dependency>

      <!-- servlet versions -->
            <dependency>
                <groupId>javax.servlet</groupId>
                <artifactId>servlet-api</artifactId>
                <version>2.4</version>
                <scope>provided</scope>
            </dependency>
            <dependency>
                <groupId>javax.servlet</groupId>
                <artifactId>jsp-api</artifactId>
                <version>2.0</version>
                <scope>provided</scope>
            </dependency>
            <dependency>
                <groupId>javax.servlet</groupId>
                <artifactId>jstl</artifactId>
                <version>1.1.2</version>
            </dependency>
            <dependency>
                <groupId>taglibs</groupId>
                <artifactId>standard</artifactId>
                <version>1.1.2</version>
            </dependency>

      <!-- nyc components are using postgres as back end -->
            <dependency>
                <groupId>postgresql</groupId>
                <artifactId>postgresql</artifactId>
                <version>8.4-701.jdbc4</version>
            </dependency>

            <dependency>
                <groupId>com.caucho</groupId>
                <artifactId>resin-hessian</artifactId>
                <version>3.1.6</version>
            </dependency>
        </dependencies>
    </dependencyManagement>
</project>
